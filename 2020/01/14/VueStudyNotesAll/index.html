<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="VueStudyNotesAll"><meta name="keywords" content="Vue"><meta name="author" content="𝓣𝓪𝓭𝓶"><meta name="copyright" content="𝓣𝓪𝓭𝓶"><title>VueStudyNotesAll | 𝓣𝓪𝓭𝓶's Blog</title><link rel="shortcut icon" href="/my.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.0/css/all.min.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?837ab5c6a751430eeba265f36e622b79";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-156561044-1","auto"),ga("send","pageview")</script><meta name="google-site-verification" content="4sNQ8r3e8C-DeXTBdbDP38MgpMP8Rw5pvHy2z4-z9ZY"><script>var GLOBAL_CONFIG={root:"/",copy:{success:"Copy successfully",error:"Copy error",noSupport:"The browser does not support"}}</script><meta name="generator" content="Hexo 4.2.1"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-Study-Notes-All"><span class="toc-number">1.</span> <span class="toc-text">Vue Study Notes(All)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Acquaint-Vue"><span class="toc-number">2.</span> <span class="toc-text">Acquaint Vue</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue是一个渐进式的框架"><span class="toc-number">2.1.</span> <span class="toc-text">Vue是一个渐进式的框架</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Features-amp-Web开发中常见的高级功能"><span class="toc-number">2.2.</span> <span class="toc-text">Features &amp; Web开发中常见的高级功能</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MVVM"><span class="toc-number">3.</span> <span class="toc-text">MVVM</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#View层-视图层-："><span class="toc-number">3.1.</span> <span class="toc-text">View层(视图层)：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Model层-数据层-："><span class="toc-number">3.2.</span> <span class="toc-text">Model层(数据层)：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VueModel层-视图模型层-："><span class="toc-number">3.3.</span> <span class="toc-text">VueModel层(视图模型层)：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-CDN"><span class="toc-number">4.</span> <span class="toc-text">Vue CDN</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#生产环境："><span class="toc-number">4.1.</span> <span class="toc-text">生产环境：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#开发环境："><span class="toc-number">4.2.</span> <span class="toc-text">开发环境：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#First-Simple-Demo"><span class="toc-number">5.</span> <span class="toc-text">First Simple Demo</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-生命周期"><span class="toc-number">6.</span> <span class="toc-text">Vue 生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#解释"><span class="toc-number">6.1.</span> <span class="toc-text">解释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#官方图示"><span class="toc-number">6.2.</span> <span class="toc-text">官方图示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常用的-钩子函数"><span class="toc-number">6.3.</span> <span class="toc-text">常用的 钩子函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#图解-详细"><span class="toc-number">6.4.</span> <span class="toc-text">图解(详细)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-实例参数"><span class="toc-number">7.</span> <span class="toc-text">Vue 实例参数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#el"><span class="toc-number">7.1.</span> <span class="toc-text">el</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Explanation"><span class="toc-number">7.1.1.</span> <span class="toc-text">Explanation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#data"><span class="toc-number">7.2.</span> <span class="toc-text">data</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Explanation-1"><span class="toc-number">7.2.1.</span> <span class="toc-text">Explanation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example"><span class="toc-number">7.2.2.</span> <span class="toc-text">Example</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#methods"><span class="toc-number">7.3.</span> <span class="toc-text">methods</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Explanation-2"><span class="toc-number">7.3.1.</span> <span class="toc-text">Explanation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-1"><span class="toc-number">7.3.2.</span> <span class="toc-text">Example</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#props"><span class="toc-number">7.4.</span> <span class="toc-text">props</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Explanation-3"><span class="toc-number">7.4.1.</span> <span class="toc-text">Explanation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#watch"><span class="toc-number">7.5.</span> <span class="toc-text">watch</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Explanation-4"><span class="toc-number">7.5.1.</span> <span class="toc-text">Explanation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#computed"><span class="toc-number">7.6.</span> <span class="toc-text">computed</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Explanation-5"><span class="toc-number">7.6.1.</span> <span class="toc-text">Explanation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-2"><span class="toc-number">7.6.2.</span> <span class="toc-text">Example</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-基本语法"><span class="toc-number">8.</span> <span class="toc-text">Vue 基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Mustache"><span class="toc-number">8.1.</span> <span class="toc-text">Mustache</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-model"><span class="toc-number">8.2.</span> <span class="toc-text">v-model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-on"><span class="toc-number">8.3.</span> <span class="toc-text">v-on</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Explanation-6"><span class="toc-number">8.3.1.</span> <span class="toc-text">Explanation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-3"><span class="toc-number">8.3.2.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-4"><span class="toc-number">8.3.3.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-on-修饰符"><span class="toc-number">8.3.4.</span> <span class="toc-text">v-on 修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-5"><span class="toc-number">8.3.4.1.</span> <span class="toc-text">Example</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-bind"><span class="toc-number">8.4.</span> <span class="toc-text">v-bind</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#对象语法"><span class="toc-number">8.4.1.</span> <span class="toc-text">对象语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组语法"><span class="toc-number">8.4.2.</span> <span class="toc-text">数组语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-text"><span class="toc-number">8.5.</span> <span class="toc-text">v-text</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-html"><span class="toc-number">8.6.</span> <span class="toc-text">v-html</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-pre"><span class="toc-number">8.7.</span> <span class="toc-text">v-pre</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-cloak"><span class="toc-number">8.8.</span> <span class="toc-text">v-cloak</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-once"><span class="toc-number">8.9.</span> <span class="toc-text">v-once</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-for"><span class="toc-number">8.10.</span> <span class="toc-text">v-for</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-if-amp-amp-v-else-if-amp-amp-v-else"><span class="toc-number">8.11.</span> <span class="toc-text">v-if &amp;&amp; v-else-if &amp;&amp; v-else</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-show"><span class="toc-number">8.12.</span> <span class="toc-text">v-show</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#More"><span class="toc-number">8.12.1.</span> <span class="toc-text">More</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-show-VS-v-if"><span class="toc-number">8.12.2.</span> <span class="toc-text">v-show VS v-if</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#自定义指令"><span class="toc-number">9.</span> <span class="toc-text">自定义指令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue-directive-注册全局指令"><span class="toc-number">9.1.</span> <span class="toc-text">Vue.directive 注册全局指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue-directive-注册全局指令—带参数"><span class="toc-number">9.2.</span> <span class="toc-text">Vue.directive 注册全局指令—带参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义指令局部指令"><span class="toc-number">9.3.</span> <span class="toc-text">自定义指令局部指令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#表单操作"><span class="toc-number">10.</span> <span class="toc-text">表单操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#获取单选框中的值"><span class="toc-number">10.1.</span> <span class="toc-text">获取单选框中的值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#label-for-介绍-容易忽略"><span class="toc-number">10.2.</span> <span class="toc-text">label for 介绍(容易忽略)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、使用介绍"><span class="toc-number">10.2.1.</span> <span class="toc-text">一、使用介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#方法一：将表单控件作为label的内容，这种就是隐式绑定。"><span class="toc-number">10.2.1.1.</span> <span class="toc-text">方法一：将表单控件作为label的内容，这种就是隐式绑定。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#方法二：为label标签下的for属性命名一个目标表单的id，这种就是显示绑定。"><span class="toc-number">10.2.1.2.</span> <span class="toc-text">方法二：为label标签下的for属性命名一个目标表单的id，这种就是显示绑定。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、为什么要给label上面加上for属性"><span class="toc-number">10.2.2.</span> <span class="toc-text">二、为什么要给label上面加上for属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#获取复选框中的值"><span class="toc-number">10.3.</span> <span class="toc-text">获取复选框中的值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#获取下拉框和文本框中的值"><span class="toc-number">10.4.</span> <span class="toc-text">获取下拉框和文本框中的值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#表单修饰符"><span class="toc-number">10.5.</span> <span class="toc-text">表单修饰符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#过滤器"><span class="toc-number">11.</span> <span class="toc-text">过滤器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Explanation-7"><span class="toc-number">11.1.</span> <span class="toc-text">Explanation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-6"><span class="toc-number">11.1.1.</span> <span class="toc-text">Example</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#过滤器中传递参数"><span class="toc-number">11.2.</span> <span class="toc-text">过滤器中传递参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#example"><span class="toc-number">11.2.1.</span> <span class="toc-text">example</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dateFormat-过滤器"><span class="toc-number">11.3.</span> <span class="toc-text">dateFormat 过滤器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ES6-部分语法"><span class="toc-number">12.</span> <span class="toc-text">ES6 部分语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#var-ES5-amp-let"><span class="toc-number">12.1.</span> <span class="toc-text">var(ES5) &amp; let</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#块级作用域"><span class="toc-number">12.1.1.</span> <span class="toc-text">块级作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#详细解释"><span class="toc-number">12.1.2.</span> <span class="toc-text">详细解释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#const-指向的内存地址不再改变"><span class="toc-number">12.2.</span> <span class="toc-text">const(指向的内存地址不再改变)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对象字面量增强写法"><span class="toc-number">12.3.</span> <span class="toc-text">对象字面量增强写法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数可变参数-…"><span class="toc-number">12.4.</span> <span class="toc-text">函数可变参数(…)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#模板字符串"><span class="toc-number">12.5.</span> <span class="toc-text">模板字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#More-待续"><span class="toc-number">12.6.</span> <span class="toc-text">More 待续</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数组响应式方法"><span class="toc-number">13.</span> <span class="toc-text">数组响应式方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#push"><span class="toc-number">13.1.</span> <span class="toc-text">push()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pop"><span class="toc-number">13.2.</span> <span class="toc-text">pop()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shift"><span class="toc-number">13.3.</span> <span class="toc-text">shift()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#unshift"><span class="toc-number">13.4.</span> <span class="toc-text">unshift()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#splice"><span class="toc-number">13.5.</span> <span class="toc-text">splice()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sort"><span class="toc-number">13.6.</span> <span class="toc-text">sort()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reverse"><span class="toc-number">13.7.</span> <span class="toc-text">reverse()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#通过索引值修改数组中的元素"><span class="toc-number">13.8.</span> <span class="toc-text">通过索引值修改数组中的元素</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Cart-Demo"><span class="toc-number">14.</span> <span class="toc-text">Cart Demo</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#高阶函数"><span class="toc-number">15.</span> <span class="toc-text">高阶函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#filter"><span class="toc-number">15.1.</span> <span class="toc-text">filter()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map"><span class="toc-number">15.2.</span> <span class="toc-text">map()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reduce"><span class="toc-number">15.3.</span> <span class="toc-text">reduce()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#整合"><span class="toc-number">15.4.</span> <span class="toc-text">整合</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-组件化开发"><span class="toc-number">16.</span> <span class="toc-text">Vue 组件化开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Explanation-8"><span class="toc-number">16.1.</span> <span class="toc-text">Explanation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#步骤"><span class="toc-number">16.2.</span> <span class="toc-text">步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#定义组件名"><span class="toc-number">16.3.</span> <span class="toc-text">定义组件名</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-kebab-case"><span class="toc-number">16.3.1.</span> <span class="toc-text">使用 kebab-case</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-PascalCase"><span class="toc-number">16.3.2.</span> <span class="toc-text">使用 PascalCase</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#全局组件-amp-局部组件"><span class="toc-number">16.4.</span> <span class="toc-text">全局组件 &amp; 局部组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#全局组件"><span class="toc-number">16.4.1.</span> <span class="toc-text">全局组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-7"><span class="toc-number">16.4.2.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#局部组件"><span class="toc-number">16.4.3.</span> <span class="toc-text">局部组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-8"><span class="toc-number">16.4.4.</span> <span class="toc-text">Example</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#组件模板分离写法-推荐"><span class="toc-number">16.5.</span> <span class="toc-text">组件模板分离写法(推荐)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#组件data必须为一个函数并返回"><span class="toc-number">16.6.</span> <span class="toc-text">组件data必须为一个函数并返回</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#父子组件数据传递"><span class="toc-number">16.7.</span> <span class="toc-text">父子组件数据传递</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#父组件–-gt-子组件"><span class="toc-number">16.7.1.</span> <span class="toc-text">父组件–&gt;子组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#用法"><span class="toc-number">16.7.1.1.</span> <span class="toc-text">用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-9"><span class="toc-number">16.7.1.2.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#props驼峰标识"><span class="toc-number">16.7.1.3.</span> <span class="toc-text">props驼峰标识</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#说明"><span class="toc-number">16.7.1.3.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#example-1"><span class="toc-number">16.7.1.3.2.</span> <span class="toc-text">example</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#子组件–-gt-父组件"><span class="toc-number">16.7.2.</span> <span class="toc-text">子组件–&gt;父组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#用法-1"><span class="toc-number">16.7.2.1.</span> <span class="toc-text">用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-10"><span class="toc-number">16.7.2.2.</span> <span class="toc-text">Example</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#父子组件双向绑定案例"><span class="toc-number">16.7.3.</span> <span class="toc-text">父子组件双向绑定案例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-model原型利用-v-bind-v-on"><span class="toc-number">16.7.3.1.</span> <span class="toc-text">v-model原型利用(v-bind,v-on)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-model现用"><span class="toc-number">16.7.3.2.</span> <span class="toc-text">v-model现用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#父子组件直接访问"><span class="toc-number">16.7.4.</span> <span class="toc-text">父子组件直接访问</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#父组件访问子组件"><span class="toc-number">16.7.4.1.</span> <span class="toc-text">父组件访问子组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#子组件访问父组件-不常用"><span class="toc-number">16.7.4.2.</span> <span class="toc-text">子组件访问父组件(不常用)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#子组件访问根组件"><span class="toc-number">16.7.4.3.</span> <span class="toc-text">子组件访问根组件</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-slot-插槽"><span class="toc-number">17.</span> <span class="toc-text">Vue slot 插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#默认插槽使用"><span class="toc-number">17.1.</span> <span class="toc-text">默认插槽使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#具名插槽使用"><span class="toc-number">17.2.</span> <span class="toc-text">具名插槽使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-slot-插槽-2-6-0"><span class="toc-number">18.</span> <span class="toc-text">Vue slot 插槽(2.6.0+)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#默认插槽"><span class="toc-number">18.1.</span> <span class="toc-text">默认插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-11"><span class="toc-number">18.1.1.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注意"><span class="toc-number">18.1.2.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#具名插槽"><span class="toc-number">18.2.</span> <span class="toc-text">具名插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-12"><span class="toc-number">18.2.1.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Result"><span class="toc-number">18.2.2.</span> <span class="toc-text">Result</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注意-1"><span class="toc-number">18.2.3.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#编译作用域"><span class="toc-number">18.3.</span> <span class="toc-text">编译作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#官方准则"><span class="toc-number">18.3.1.</span> <span class="toc-text">官方准则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-13"><span class="toc-number">18.3.2.</span> <span class="toc-text">Example</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#作用域插槽"><span class="toc-number">18.4.</span> <span class="toc-text">作用域插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-废弃但便于理解"><span class="toc-number">18.4.1.</span> <span class="toc-text">Example(废弃但便于理解)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#新版用法如下"><span class="toc-number">18.4.2.</span> <span class="toc-text">新版用法如下</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注意-2"><span class="toc-number">18.4.3.</span> <span class="toc-text">注意</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#模块化开发"><span class="toc-number">19.</span> <span class="toc-text">模块化开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#利用模块导出-了解"><span class="toc-number">19.1.</span> <span class="toc-text">利用模块导出(了解)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CommonJs-node-webpack"><span class="toc-number">19.2.</span> <span class="toc-text">CommonJs(node&#x2F;webpack)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#exprots"><span class="toc-number">19.2.1.</span> <span class="toc-text">exprots</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import"><span class="toc-number">19.2.2.</span> <span class="toc-text">import</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#export-amp-amp-import"><span class="toc-number">19.3.</span> <span class="toc-text">export &amp;&amp; import</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#html导入设置"><span class="toc-number">19.3.1.</span> <span class="toc-text">html导入设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#export"><span class="toc-number">19.3.2.</span> <span class="toc-text">export</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#export-default"><span class="toc-number">19.3.3.</span> <span class="toc-text">export default</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import-1"><span class="toc-number">19.3.4.</span> <span class="toc-text">import</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack-other-gulp-grunt"><span class="toc-number">20.</span> <span class="toc-text">webpack(other: gulp&#x2F;grunt)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Explanation-9"><span class="toc-number">20.1.</span> <span class="toc-text">Explanation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VS-Gulp-Grunt"><span class="toc-number">20.2.</span> <span class="toc-text">VS Gulp&#x2F;Grunt</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#grunt-gulp-的核心是-Task"><span class="toc-number">20.2.1.</span> <span class="toc-text">grunt&#x2F;gulp 的核心是 Task</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#什么时候用grunt-gulp呢？"><span class="toc-number">20.2.2.</span> <span class="toc-text">什么时候用grunt&#x2F;gulp呢？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#grunt-gulp-和-webpack-差异"><span class="toc-number">20.2.3.</span> <span class="toc-text">grunt&#x2F;gulp 和 webpack 差异</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install"><span class="toc-number">20.3.</span> <span class="toc-text">Install</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack初使用"><span class="toc-number">20.4.</span> <span class="toc-text">webpack初使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#commonJS"><span class="toc-number">20.4.1.</span> <span class="toc-text">commonJS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6"><span class="toc-number">20.4.2.</span> <span class="toc-text">ES6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import-2"><span class="toc-number">20.4.3.</span> <span class="toc-text">import</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-package"><span class="toc-number">20.4.4.</span> <span class="toc-text">webpack package</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTML-Use"><span class="toc-number">20.4.5.</span> <span class="toc-text">HTML Use</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack-Config"><span class="toc-number">20.5.</span> <span class="toc-text">webpack Config</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#npm-init"><span class="toc-number">20.5.1.</span> <span class="toc-text">npm init</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-webpack-config-js"><span class="toc-number">20.5.2.</span> <span class="toc-text">Create webpack.config.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注意-3"><span class="toc-number">20.5.3.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#loader-webpack转换某些类型的模块-一个转换器"><span class="toc-number">20.6.</span> <span class="toc-text">loader(webpack转换某些类型的模块,一个转换器)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-css-loader-amp-amp-style-loader为例"><span class="toc-number">20.6.1.</span> <span class="toc-text">Install(css-loader &amp;&amp; style-loader为例)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-css-loader-amp-amp-style-loader"><span class="toc-number">20.6.2.</span> <span class="toc-text">Use css-loader &amp;&amp; style-loader</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Plugin-对webpack本身的扩展-一个扩展器"><span class="toc-number">20.7.</span> <span class="toc-text">Plugin(对webpack本身的扩展,一个扩展器)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用方法"><span class="toc-number">20.7.1.</span> <span class="toc-text">使用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内置插件实例"><span class="toc-number">20.7.2.</span> <span class="toc-text">内置插件实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#新装插件"><span class="toc-number">20.7.3.</span> <span class="toc-text">新装插件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#html打包"><span class="toc-number">20.7.3.1.</span> <span class="toc-text">html打包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JS压缩-打包时"><span class="toc-number">20.7.3.2.</span> <span class="toc-text">JS压缩(打包时)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Webpack-Config-Vue"><span class="toc-number">20.8.</span> <span class="toc-text">Webpack Config Vue</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-1"><span class="toc-number">20.8.1.</span> <span class="toc-text">Install</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Primary-Use"><span class="toc-number">20.8.2.</span> <span class="toc-text">Primary Use</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#maybe-some-errors"><span class="toc-number">20.8.3.</span> <span class="toc-text">maybe some errors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ultimate-Use"><span class="toc-number">20.8.4.</span> <span class="toc-text">Ultimate Use</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Install-vue-loader-解析-vue文件"><span class="toc-number">20.8.4.1.</span> <span class="toc-text">Install vue-loader(解析.vue文件)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Use"><span class="toc-number">20.8.4.2.</span> <span class="toc-text">Use</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack-搭建本地服务器"><span class="toc-number">20.9.</span> <span class="toc-text">webpack 搭建本地服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-2"><span class="toc-number">20.9.1.</span> <span class="toc-text">Install</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack-配置文件分离"><span class="toc-number">20.10.</span> <span class="toc-text">webpack 配置文件分离</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#base-config-js"><span class="toc-number">20.10.1.</span> <span class="toc-text">base.config.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dev-config-js"><span class="toc-number">20.10.2.</span> <span class="toc-text">dev.config.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pro-config-js"><span class="toc-number">20.10.3.</span> <span class="toc-text">pro.config.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#package-json"><span class="toc-number">20.10.4.</span> <span class="toc-text">package.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基础文件与开发配置文件或者生产配置文件合并"><span class="toc-number">20.10.5.</span> <span class="toc-text">基础文件与开发配置文件或者生产配置文件合并</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-Cli-脚手架"><span class="toc-number">21.</span> <span class="toc-text">Vue-Cli 脚手架</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Runtime-Compiler和Runtime-only的区别-理解原理"><span class="toc-number">21.1.</span> <span class="toc-text">Runtime-Compiler和Runtime-only的区别(理解原理)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简单总结"><span class="toc-number">21.1.1.</span> <span class="toc-text">简单总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-解析运行过程"><span class="toc-number">21.1.2.</span> <span class="toc-text">Vue 解析运行过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-14"><span class="toc-number">21.1.3.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#render-函数使用"><span class="toc-number">21.1.4.</span> <span class="toc-text">render 函数使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Explanation-10"><span class="toc-number">21.1.5.</span> <span class="toc-text">Explanation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-amp-amp-Create"><span class="toc-number">21.2.</span> <span class="toc-text">Install &amp;&amp; Create</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Args-Explanation"><span class="toc-number">21.3.</span> <span class="toc-text">Args Explanation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Directory-Structure"><span class="toc-number">21.4.</span> <span class="toc-text">Directory Structure</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Config"><span class="toc-number">21.5.</span> <span class="toc-text">Config</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-1"><span class="toc-number">21.6.</span> <span class="toc-text">Use</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#箭头函数"><span class="toc-number">22.</span> <span class="toc-text">箭头函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-2"><span class="toc-number">22.1.</span> <span class="toc-text">Use</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#箭头函数—this"><span class="toc-number">22.2.</span> <span class="toc-text">箭头函数—this</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#注意-4"><span class="toc-number">22.3.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-Router"><span class="toc-number">23.</span> <span class="toc-text">Vue-Router</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#web路由发展"><span class="toc-number">23.1.</span> <span class="toc-text">web路由发展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#后端路由"><span class="toc-number">23.1.1.</span> <span class="toc-text">后端路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#前后端分离"><span class="toc-number">23.1.2.</span> <span class="toc-text">前后端分离</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SPA页面"><span class="toc-number">23.1.3.</span> <span class="toc-text">SPA页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#前端路由"><span class="toc-number">23.1.4.</span> <span class="toc-text">前端路由</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hash-模式"><span class="toc-number">23.2.</span> <span class="toc-text">Hash 模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTML5-History-模式-改变URL而不刷新页面"><span class="toc-number">23.3.</span> <span class="toc-text">HTML5 History 模式(改变URL而不刷新页面)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-3"><span class="toc-number">23.4.</span> <span class="toc-text">Use</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#router-link-属性"><span class="toc-number">23.5.</span> <span class="toc-text">router-link 属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路由跳转"><span class="toc-number">23.6.</span> <span class="toc-text">路由跳转</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#动态路由-拼接参数"><span class="toc-number">23.7.</span> <span class="toc-text">动态路由(拼接参数)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路由懒加载-访问才加载"><span class="toc-number">23.8.</span> <span class="toc-text">路由懒加载(访问才加载)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#用途"><span class="toc-number">23.8.1.</span> <span class="toc-text">用途</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#写法"><span class="toc-number">23.8.2.</span> <span class="toc-text">写法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#嵌套路由"><span class="toc-number">23.9.</span> <span class="toc-text">嵌套路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路由传递参数"><span class="toc-number">23.10.</span> <span class="toc-text">路由传递参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Explanation-11"><span class="toc-number">23.10.1.</span> <span class="toc-text">Explanation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#route-vs-router"><span class="toc-number">23.10.2.</span> <span class="toc-text">route vs router</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路由导航守卫"><span class="toc-number">23.11.</span> <span class="toc-text">路由导航守卫</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Keep-Alive"><span class="toc-number">23.12.</span> <span class="toc-text">Keep-Alive</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TabBar-实例"><span class="toc-number">24.</span> <span class="toc-text">TabBar 实例</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Promise"><span class="toc-number">25.</span> <span class="toc-text">Promise</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Explanation-12"><span class="toc-number">25.1.</span> <span class="toc-text">Explanation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Example-15"><span class="toc-number">25.2.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#链式调用"><span class="toc-number">25.3.</span> <span class="toc-text">链式调用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#all-method"><span class="toc-number">25.4.</span> <span class="toc-text">all method</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Async-await"><span class="toc-number">26.</span> <span class="toc-text">Async await</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vuex"><span class="toc-number">27.</span> <span class="toc-text">Vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#单页面状态管理"><span class="toc-number">27.1.</span> <span class="toc-text">单页面状态管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Args"><span class="toc-number">27.1.1.</span> <span class="toc-text">Args</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多页面状态管理"><span class="toc-number">27.2.</span> <span class="toc-text">多页面状态管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#state"><span class="toc-number">27.2.1.</span> <span class="toc-text">state</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getters-as-computed-数据需要做处理再返回给组件使用"><span class="toc-number">27.2.2.</span> <span class="toc-text">getters(as computed 数据需要做处理再返回给组件使用)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mutations-状态更新"><span class="toc-number">27.2.3.</span> <span class="toc-text">mutations(状态更新)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#actions"><span class="toc-number">27.2.4.</span> <span class="toc-text">actions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#modules"><span class="toc-number">27.2.5.</span> <span class="toc-text">modules</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#变量解构赋值"><span class="toc-number">28.</span> <span class="toc-text">变量解构赋值</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Axios"><span class="toc-number">29.</span> <span class="toc-text">Axios</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#axios的基本使用"><span class="toc-number">29.1.</span> <span class="toc-text">axios的基本使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#axios发送并发请求"><span class="toc-number">29.2.</span> <span class="toc-text">axios发送并发请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用全局的axios和对应的配置在进行网络请求"><span class="toc-number">29.3.</span> <span class="toc-text">使用全局的axios和对应的配置在进行网络请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建对应的axios的实例"><span class="toc-number">29.4.</span> <span class="toc-text">创建对应的axios的实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#封装request模块"><span class="toc-number">29.5.</span> <span class="toc-text">封装request模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-4"><span class="toc-number">29.6.</span> <span class="toc-text">Use</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ultimate-Use-amp-amp-Interceptors"><span class="toc-number">29.7.</span> <span class="toc-text">Ultimate Use &amp;&amp; Interceptors</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#项目实战"><span class="toc-number">30.</span> <span class="toc-text">项目实战</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Directory-Structure-1"><span class="toc-number">30.1.</span> <span class="toc-text">Directory Structure</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Github-Address"><span class="toc-number">30.2.</span> <span class="toc-text">Github Address</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSS"><span class="toc-number">30.3.</span> <span class="toc-text">CSS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Config-1"><span class="toc-number">30.4.</span> <span class="toc-text">Config</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#End"><span class="toc-number">31.</span> <span class="toc-text">End</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://i.loli.net/2019/11/24/Tj4hPoFKgXJE7xW.jpg"></div><div class="author-info__name text-center">𝓣𝓪𝓭𝓶</div><div class="author-info__description text-center"></div><div class="follow-button"><a href="https://liuhongwei3.github.io">Follow me ≧◇≦</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">31</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">35</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">11</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" href="https://liuhongwei3.github.io">𝓣𝓪𝓭𝓶</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image:url(https://i.loli.net/2020/02/28/2OPSFfaL73QIizV.jpg)"><div id="page-header"> <span class="pull-left"><a id="site-name" href="/">𝓣𝓪𝓭𝓶's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i> <span class="pull-right menus"><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/player">Player</a><a class="site-page" href="/about">About</a></span></div><div id="post-info"><div id="post-title">VueStudyNotesAll</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-14</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/studyNotes/">studyNotes</a><div class="post-meta-wordcount"><span>Word count:</span> <span class="word-count">20.5k</span><span class="post-meta__separator">|</span><span>Reading time: 94 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><!DOCTYPE html><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><div id="aplayer"></div><script type="text/javascript" src="/js/aplayer.js"></script><div class="article-container" id="post-content"><h1 id="Vue-Study-Notes-All"><a href="#Vue-Study-Notes-All" class="headerlink" title="Vue Study Notes(All)"></a>Vue Study Notes(All)</h1><p>Read: <a href="https://liuhongwei3.github.io/Vue-Study-Notes">https://liuhongwei3.github.io/Vue-Study-Notes</a></p><div style="display:inline-flex"> <img alt="" src="https://img.shields.io/badge/Author-Tadm-pink.svg?style=flat-square"> <img alt="" src="https://img.shields.io/apm/l/vim-mode?style=flat-square"> <img alt="" src="https://img.shields.io/badge/Program-Vue-orange"></div><h1 id="Acquaint-Vue"><a href="#Acquaint-Vue" class="headerlink" title="Acquaint Vue"></a>Acquaint Vue</h1><h2 id="Vue是一个渐进式的框架"><a href="#Vue是一个渐进式的框架" class="headerlink" title="Vue是一个渐进式的框架"></a>Vue是一个渐进式的框架</h2><p>渐进式意味着可以将Vue作为你应用的一部分嵌入其中，带来更丰富的交互体验。</p><h2 id="Features-amp-Web开发中常见的高级功能"><a href="#Features-amp-Web开发中常见的高级功能" class="headerlink" title="Features &amp; Web开发中常见的高级功能"></a>Features &amp; Web开发中常见的高级功能</h2><ul><li>解耦视图和数据</li><li>可复用的组件</li><li>前端路由</li><li>状态管理</li><li>虚拟DOM</li></ul><h1 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h1><h2 id="View层-视图层-："><a href="#View层-视图层-：" class="headerlink" title="View层(视图层)："></a>View层(视图层)：</h2><ul><li>DOM</li></ul><h2 id="Model层-数据层-："><a href="#Model层-数据层-：" class="headerlink" title="Model层(数据层)："></a>Model层(数据层)：</h2><ul><li>Data</li></ul><h2 id="VueModel层-视图模型层-："><a href="#VueModel层-视图模型层-：" class="headerlink" title="VueModel层(视图模型层)："></a>VueModel层(视图模型层)：</h2><p>View 和 Model 沟通的桥梁：</p><ul><li><p>数据绑定，将 Model 的改变实时的反应到 View 中</p></li><li><p>实现 DOM 监听，当DOM发生一些事件(点击、滚动、touch等)时，可以监听到，并在需要的情况下改变对应的 Data</p></li><li><p>m model</p><ul><li>数据层 Vue 中 数据层 都放在 data 里面</li></ul></li><li><p>v view 视图</p><ul><li>Vue 中 view 即 我们的HTML页面</li></ul></li><li><p>vm （view-model） 控制器 将数据和视图层建立联系</p><ul><li>vm 即 Vue 的实例 就是 vm</li></ul></li></ul><h1 id="Vue-CDN"><a href="#Vue-CDN" class="headerlink" title="Vue CDN"></a>Vue CDN</h1><blockquote><p>具体可参照 Vue 官网</p></blockquote><h2 id="生产环境："><a href="#生产环境：" class="headerlink" title="生产环境："></a>生产环境：</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.6.11/dist/vue.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="开发环境："><a href="#开发环境：" class="headerlink" title="开发环境："></a>开发环境：</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.6.11/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="First-Simple-Demo"><a href="#First-Simple-Demo" class="headerlink" title="First Simple Demo"></a>First Simple Demo</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  &#123;&#123; message &#125;&#125;  //Hello Vue!</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  </span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'Hello Vue!'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="Vue-生命周期"><a href="#Vue-生命周期" class="headerlink" title="Vue 生命周期"></a>Vue 生命周期</h1><h2 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h2><ul><li>Vue实例从创建到销毁的过程，这些过程中会伴随着一些函数的自调用，这些函数为钩子函数</li></ul><h2 id="官方图示"><a href="#官方图示" class="headerlink" title="官方图示"></a>官方图示</h2><p><img src="https://cn.vuejs.org/images/lifecycle.png" alt="lifecycle"></p><ul><li>new Vue——&gt;创建一个vue实例</li><li>init()——&gt;初始化空的vue对象</li><li>beforecreate——&gt;data &amp; methods 还未初始化</li></ul><ul><li>created——&gt;data &amp; methods 已经初始化好，此时可调用methods方法、使用data中的数据(最早)</li><li>compile template——&gt;编译模板在内存中生成DOM树，但此时未加载到页面上</li></ul><ul><li>beforeMount——&gt;模板尚未挂载至页面，页面仍未更新</li><li>create vm.$el &amp; replace el with it——&gt;将内存中编译好的模板替换至页面上,此时可操作页面Dom(最早)</li><li>mounted——&gt;实例初始化加载完毕，进入运行阶段</li></ul><ul><li>beforeUpdate——&gt;data changed,data中数据已更新，页面上的数据仍未更新</li><li>virtual DOM re-render and patch——&gt;根据data的数据在内存中重新渲染新DOM树，更新完毕再将其渲染到页面(model—&gt;view)</li><li>updated——&gt;页面中的data更新了</li></ul><ul><li>beforeDestroy——&gt;运行—&gt;销毁，此时data/methods等仍可用，并未真正销毁</li><li>destroyed——&gt;everything is null</li></ul><h2 id="常用的-钩子函数"><a href="#常用的-钩子函数" class="headerlink" title="常用的 钩子函数"></a>常用的 钩子函数</h2><table><thead><tr><th>beforeCreate</th><th>在实例初始化之后，数据观测和事件配置之前被调用 此时data 和 methods 以及页面的DOM结构都没有初始化 什么都做不了</th></tr></thead><tbody><tr><td>created</td><td>在实例创建完成后被立即调用此时data 和 methods已经可以使用 但是页面还没有渲染出来</td></tr><tr><td>beforeMount</td><td>在挂载开始之前被调用 此时页面上还看不到真实数据 只是一个模板页面而已</td></tr><tr><td>mounted</td><td>el被新创建的vm.$el替换，并挂载到实例上去之后调用该钩子。 数据已经真实渲染到页面上 在这个钩子函数里面我们可以使用一些第三方的插件</td></tr><tr><td>beforeUpdate</td><td>数据更新时调用，发生在虚拟DOM打补丁之前。 页面上数据还是旧的</td></tr><tr><td>updated</td><td>由于数据更改导致的虚拟DOM重新渲染和打补丁，在这之后会调用该钩子。 页面上数据已经替换成最新的</td></tr><tr><td>beforeDestroy</td><td>实例销毁之前调用</td></tr><tr><td>destroyed</td><td>实例销毁后调用</td></tr></tbody></table><h2 id="图解-详细"><a href="#图解-详细" class="headerlink" title="图解(详细)"></a>图解(详细)</h2><p><img src="https://i.loli.net/2020/01/14/ef6QMCSc29gFAKW.png" alt="lifecycle.png"></p><h1 id="Vue-实例参数"><a href="#Vue-实例参数" class="headerlink" title="Vue 实例参数"></a>Vue 实例参数</h1><p>el—data—computed—methods—watch—props等等</p><h2 id="el"><a href="#el" class="headerlink" title="el"></a>el</h2><h3 id="Explanation"><a href="#Explanation" class="headerlink" title="Explanation"></a>Explanation</h3><p>类型：String | HTMLElement<br>作用：确定Vue实例会管理的DOM</p><h2 id="data"><a href="#data" class="headerlink" title="data"></a>data</h2><h3 id="Explanation-1"><a href="#Explanation-1" class="headerlink" title="Explanation"></a>Explanation</h3><p>类型：Object | Function<br>限制：组件的定义只接受 function<br>作用：Vue实例对应的数据对象</p><p>More：实例创建之后，可以通过 vm.$data 访问原始数据对象。Vue 实例也代理了 data 对象上所有的属性，因此访问 vm.a 等价于访问 vm.$data.a。</p><p>以 _ 或 $ 开头的属性 不会 被 Vue 实例代理，因为它们可能和 Vue 内置的属性、API 方法冲突。你可以使用例如 vm.$data._property 的方式访问这些属性。</p><p>当一个组件被定义，data 必须声明为返回一个初始数据对象的函数，因为组件可能被用来创建多个实例。如果 data 仍然是一个纯粹的对象，则所有的实例将共享引用同一个数据对象！通过提供 data 函数，每次创建一个新实例后，我们能够调用 data 函数，从而返回初始数据的一个全新副本数据对象。</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> data = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接创建一个实例</span></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: data</span><br><span class="line">&#125;)</span><br><span class="line">vm.a <span class="comment">// =&gt; 1</span></span><br><span class="line">vm.$data === data <span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Vue.extend() 中 data 必须是函数</span></span><br><span class="line"><span class="keyword">var</span> Component = Vue.extend(&#123;</span><br><span class="line">  data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="methods"><a href="#methods" class="headerlink" title="methods"></a>methods</h2><h3 id="Explanation-2"><a href="#Explanation-2" class="headerlink" title="Explanation"></a>Explanation</h3><p>类型：{ [key: string]: Function }<br>详细：methods 将被混入到 Vue 实例中。<br>可以直接通过 VM 实例访问这些方法，或者在指令表达式中使用。方法中的 this 自动绑定为 Vue 实例<br>注意: 不应该使用箭头函数来定义 method 函数 (例如 plus: () =&gt; this.a++)。<br>理由是箭头函数绑定了父级作用域的上下文，所以 this 将不会按照期望指向 Vue 实例，this.a 将是 undefined</p><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123; </span><br><span class="line">  	a: <span class="number">1</span> </span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    plus: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.a++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ES6</span></span><br><span class="line">    plus() &#123;</span><br><span class="line">      <span class="keyword">this</span>.a++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.plus()</span><br><span class="line">vm.a <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h2 id="props"><a href="#props" class="headerlink" title="props"></a>props</h2><h3 id="Explanation-3"><a href="#Explanation-3" class="headerlink" title="Explanation"></a>Explanation</h3><p>类型：Array<string> | Object<br>详细：可以是数组或对象，用于接收来自父组件的数据。<br>可以是简单的数组，或者使用对象作为替代，对象允许配置高级选项，如类型检测、自定义验证和设置默认值。</string></p><h2 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h2><h3 id="Explanation-4"><a href="#Explanation-4" class="headerlink" title="Explanation"></a>Explanation</h3><p>类型：{ [key: string]: string | Function | Object | Array }<br>详细：一个对象，键是需要观察的表达式，值是对应回调函数。<br>值也可以是方法名，或者包含选项的对象。<br>Vue 实例将会在实例化时调用 $watch()，遍历 watch 对象的每一个属性。<br>注意：也不可以使用箭头函数，同methods</p><ul><li>一般用于异步或者开销较大的操作</li><li>watch 中的属性 一定是data 中 已经存在的数据</li><li><strong>当需要监听一个对象的改变时，普通的watch方法无法监听到对象内部属性的改变，只有data中的数据才能够监听到变化，此时就需要deep属性对对象进行深度监听</strong></li></ul><h2 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h2><h3 id="Explanation-5"><a href="#Explanation-5" class="headerlink" title="Explanation"></a>Explanation</h3><p>类型：{ [key: string]: Function | { get: Function, set: Function } }<br>详细：计算属性的结果会被缓存，除非依赖的响应式属性变化才会重新计算</p><p>计算属性将被混入到 Vue 实例中。<br>所有 getter 和 setter 的 this 上下文自动地绑定为 Vue 实例。<br>注意：如果你为一个计算属性使用了箭头函数，则 this 不会指向这个组件的实例，不过你仍然可以将其实例作为函数的第一个参数来访问。<br>如果某个依赖 (比如非响应式属性) 在该实例范畴之外，则计算属性是不会被更新的。</p><ul><li>computed比较适合对多个变量或者对象进行处理后返回一个结果值，也就是数多个变量中的某一个值发生了变化则我们监控的这个值也就会发生变化</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//	该计算属性将不再更新，因为 Date.now() 不是响应式依赖</span></span><br><span class="line">computed: &#123;</span><br><span class="line">  now: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Date</span>.now()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>More: <a href="https://cn.vuejs.org/v2/guide/computed.html" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/computed.html</a></p><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example"></a>Example</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; fullName &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;totalPrice&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">	fullName: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	  <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">' '</span> + <span class="keyword">this</span>.lastName</span><br><span class="line">	&#125;,</span><br><span class="line">	totalPrice: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>; i &lt; <span class="keyword">this</span>.books.length; i++) &#123;</span><br><span class="line">      result += <span class="keyword">this</span>.books[i].price</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//	getter setter </span></span><br><span class="line">  <span class="comment">//	一般set不常用,默认get</span></span><br><span class="line">  fullName: &#123;</span><br><span class="line">    <span class="keyword">set</span>: function(newValue) &#123;</span><br><span class="line">      <span class="comment">// console.log('-----', newValue);</span></span><br><span class="line">      <span class="keyword">const</span> names = newValue.split(<span class="string">' '</span>);</span><br><span class="line">      <span class="keyword">this</span>.firstName = names[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">this</span>.lastName = names[<span class="number">1</span>];</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">get</span>: function () &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">' '</span> + <span class="keyword">this</span>.lastName</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  reversedMessage: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// `this` 指向 vm 实例</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.message.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当firstName or lastName 发生变化时，会触发进行更新fullName</p><h1 id="Vue-基本语法"><a href="#Vue-基本语法" class="headerlink" title="Vue 基本语法"></a>Vue 基本语法</h1><h2 id="Mustache"><a href="#Mustache" class="headerlink" title="Mustache"></a>Mustache</h2><p>可以通过访问获取data中的属性</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--mustache语法中,不仅仅可以直接写变量,也可以写简单的表达式--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName + lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName + ' ' + lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;counter * 2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h2><p>双向数据绑定，限制在 <code>&lt;input&gt;、&lt;select&gt;、&lt;textarea&gt;、components</code>中使用</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"message"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>等同于(原理)</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">:value</span>=<span class="string">"message"</span> @<span class="attr">input</span>=<span class="string">"message = $event.target.value"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>input标签默认会有input方法监听输入信息</p><h2 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h2><h3 id="Explanation-6"><a href="#Explanation-6" class="headerlink" title="Explanation"></a>Explanation</h3><p>作用：绑定事件监听器<br>缩写：@<br>预期：Function | Inline Statement | Object<br>参数：event</p><h3 id="Example-3"><a href="#Example-3" class="headerlink" title="Example"></a>Example</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"increment"</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"decrement"</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">	increment() &#123;</span><br><span class="line">	  <span class="keyword">this</span>.counter++</span><br><span class="line">	&#125;,</span><br><span class="line">	decrement() &#123;</span><br><span class="line">	  <span class="keyword">this</span>.counter--</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>情况一：如果该方法不需要额外参数，那么方法后的()可以不添加。<br>但是注意：如果方法本身中有一个参数，那么会默认将原生事件event参数传递进去<br>情况二：如果需要同时传入某个参数，同时需要event时，可以通过$event传入事件。</p><h3 id="Example-4"><a href="#Example-4" class="headerlink" title="Example"></a>Example</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--1.事件调用的方法没有参数--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btn1Click()"</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btn1Click"</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  //	btn1Click</span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--2.在事件定义时, 写方法时省略了小括号, 但是方法本身是需要一个参数的, 这个时候, Vue会默认将浏览器生产的event事件对象作为参数传入到方法--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btn2Click(123)"</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  //	-------- 123</span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btn2Click()"</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  //	-------- undefined</span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btn2Click"</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  //	-------- MouseEvent &#123;isTrusted: true, screenX: 140, screenY: 138, clientX: 139, clientY: 22, …&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--3.方法定义时, 我们需要event对象, 同时又需要其他参数--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 在调用方式, 如何手动的获取到浏览器参数的event对象: $event--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btn3Click(abc, $event)"</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  //	++++++++ 123 MouseEvent &#123;isTrusted: true, screenX: 320, screenY: 142, clientX: 320, clientY: 26, …&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'你好啊'</span>,</span><br><span class="line">    abc: <span class="number">123</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    btn1Click() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"btn1Click"</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    btn2Click(event) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'--------'</span>, event);</span><br><span class="line">    &#125;,</span><br><span class="line">    btn3Click(abc, event) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'++++++++'</span>, abc, event);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果函数需要参数,但是没有传入, 那么函数的形参为undefined</span></span><br><span class="line"><span class="comment">// function abc(name) &#123;</span></span><br><span class="line"><span class="comment">//   console.log(name);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// abc()</span></span><br></pre></td></tr></table></figure><h3 id="v-on-修饰符"><a href="#v-on-修饰符" class="headerlink" title="v-on 修饰符"></a>v-on 修饰符</h3><p>.stop - 调用 event.stopPropagation() - 阻止冒泡<br>.prevent - 调用 event.preventDefault() - 阻止默认事件<br>.{keyCode | keyAlias} - 只当事件是从特定键触发时才触发回调<br>.native - 监听组件根元素的原生事件<br>.once - 只触发一次回调</p><h4 id="Example-5"><a href="#Example-5" class="headerlink" title="Example"></a>Example</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">"divClick"</span>&gt;</span></span><br><span class="line">  aaaaaaa</span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">"btnClick"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--2. .prevent修饰符的使用--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"baidu"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span> @<span class="attr">click.prevent</span>=<span class="string">"submitClick"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--3. .监听某个键盘的键帽--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> @<span class="attr">keyup.enter</span>=<span class="string">"keyUp"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--4. .once修饰符的使用--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">"btn2Click"</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h2><p>作用：动态绑定属性<br>缩写：:<br>预期：any (with argument) | Object (without argument)<br>参数：attrOrProp (optional)</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">"url"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">"url"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span><br></pre></td></tr></table></figure><p>More: 绑定class/style</p><h3 id="对象语法"><a href="#对象语法" class="headerlink" title="对象语法"></a>对象语法</h3><p>传给 v-bind:class 一个对象，以动态地切换 class</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"static"</span> <span class="attr">v-bind:class</span>=<span class="string">"&#123; active: isActive, 'text-danger': hasError &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  isActive: <span class="literal">true</span>,</span><br><span class="line">  hasError: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Result:</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"static active"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="数组语法"><a href="#数组语法" class="headerlink" title="数组语法"></a>数组语法</h3><p>把一个数组传给 v-bind:class，以应用一个 class 列表</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"[activeClass, errorClass]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  activeClass: <span class="string">'active'</span>,</span><br><span class="line">  errorClass: <span class="string">'text-danger'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Result:</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"active text-danger"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Demo: <a href="https://cn.vuejs.org/v2/guide/class-and-style.html" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/class-and-style.html</a></p><h2 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h2><p>直接将其作为text输出到页面，不进行任何解析</p><h2 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h2><p>利用解析html再输出到页面</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-html</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  url: <span class="string">'&lt;a href="http://www.baidu.com"&gt;百度一下&lt;/a&gt;'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h2><p>跳过这个元素和它子元素的编译过程，用于显示原本的Mustache语法</p><h2 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h2><p>解决闪烁问题</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">	<span class="selector-attr">[v-cloak]</span> &#123;</span><br><span class="line">	  <span class="attribute">display</span>: none;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span> <span class="attr">v-cloak</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h2><p>能执行一次性地插值，当数据改变时，插值处的内容不会更新</p><h2 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h2><p>语法格式：<br>v-for=”item in items”<br>v-for=”(item, index) in items”<br>v-for=”(item, key, index) in items”</p><p>其中的index就代表了取出的item在原数组的索引值。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"item in items"</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in items"</span>&gt;</span>&#123;&#123; index+1 &#125;&#125; - &#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 遍历对象操作 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--1.在遍历对象的过程中, 如果只是获取一个值, 那么获取到的是value--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in info"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--2.获取key和value 格式: (value, key) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(value, key) in info"</span>&gt;</span>&#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--3.获取key和value和index 格式: (value, key, index) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(value, key, index) in info"</span>&gt;</span>&#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;-&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">info: &#123;</span><br><span class="line">  name: <span class="string">'tadm'</span>,</span><br><span class="line">  age: <span class="number">19</span>,</span><br><span class="line">  height: <span class="number">1.75</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>点击指定列表更改样式</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in movies"</span> <span class="attr">:class</span>=<span class="string">"&#123;active: currentIndex === index&#125;"</span> @<span class="attr">click</span>=<span class="string">"liClick(index)"</span>&gt;</span></span><br><span class="line">  &#123;&#123;index&#125;&#125;.&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  movies: [<span class="string">'速度与激情'</span>, <span class="string">'美国队长'</span>, <span class="string">'加勒比海盗'</span>, <span class="string">'终结者'</span>],</span><br><span class="line">  currentIndex: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  liClick(index) &#123;</span><br><span class="line">    <span class="keyword">this</span>.currentIndex = index</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意：使用v-for时，给对应的元素或组件添加上一个:key属性</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">:key</span>=<span class="string">'item.id'</span> <span class="attr">v-for</span>=<span class="string">'item in books'</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.id &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.date &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> @<span class="attr">click.prevent</span>&gt;</span>修改<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">span</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> @<span class="attr">click.prevent</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>key 的作用(虚拟DOM Diff算法)</p><ul><li><p><strong>key来给每个节点做一个唯一标识</strong>(不能使用index)</p></li><li><p><strong>key的作用主要是为了高效的更新虚拟DOM</strong>（增强复用性）</p></li><li><ul><li>key与内容一一对应，以后数据更新时只需要更新改变的部分到指定位置</li></ul></li></ul></li></ul><h2 id="v-if-amp-amp-v-else-if-amp-amp-v-else"><a href="#v-if-amp-amp-v-else-if-amp-amp-v-else" class="headerlink" title="v-if &amp;&amp; v-else-if &amp;&amp; v-else"></a>v-if &amp;&amp; v-else-if &amp;&amp; v-else</h2><p>根据条件进行渲染</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"type === 'A'"</span>&gt;</span>A<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">"type === 'B'"</span>&gt;</span>B<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">"type === 'C'"</span>&gt;</span>C<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span>Not A/B/C<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意：当 v-if 与 v-for 一起使用时，v-for 具有比 v-if 更高的优先级</p><p>在使用时可能会出现一些切换时部分内容未切换，比如input输入框中的内容，点击切换时不会改变Input的文字(Vue出于性能考虑尽可能复用已存在的元素)<br>因此可以给对应的元素添加key，若识别到key不相同则不会复用，若相同仍复用</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">"isUser"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"username"</span>&gt;</span>用户账号<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">placeholder</span>=<span class="string">"用户账号"</span> <span class="attr">key</span>=<span class="string">"username"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"email"</span>&gt;</span>用户邮箱<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"email"</span> <span class="attr">placeholder</span>=<span class="string">"用户邮箱"</span> <span class="attr">key</span>=<span class="string">"email"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"isUser = !isUser"</span>&gt;</span>切换类型<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">"ok"</span>&gt;</span>Hello!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="More"><a href="#More" class="headerlink" title="More"></a>More</h3><p>v-show 的元素始终会被渲染并保留在 DOM 中。<br>v-show 只是简单地切换元素的 CSS 属性 display。</p><h3 id="v-show-VS-v-if"><a href="#v-show-VS-v-if" class="headerlink" title="v-show VS v-if"></a>v-show VS v-if</h3><ul><li><p>v-if 是惰性的：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。</p></li><li><p>相比之下，v-show 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换。</p></li><li><p>v-if 有更高的切换开销，而 v-show 有更高的初始渲染开销。</p></li><li><p>因此，如果需要非常频繁地切换，则使用 v-show 较好；如果在运行时条件很少改变，则使用 v-if 较好。</p></li><li><p>v-show本质就是标签display设置为none，控制隐藏</p><ul><li>v-show只编译一次，后面其实就是控制css，而v-if不停的销毁和创建，故v-show性能更好一点。</li></ul></li><li><p>v-if是动态的向DOM树内添加或者删除DOM元素</p><ul><li>v-if切换有一个局部编译/卸载的过程，切换过程中合适地销毁和重建内部的事件监听和子组件</li></ul></li></ul><h1 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h1><h2 id="Vue-directive-注册全局指令"><a href="#Vue-directive-注册全局指令" class="headerlink" title="Vue.directive  注册全局指令"></a>Vue.directive 注册全局指令</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">  使用自定义的指令，只需在对用的元素中，加上'v-'的前缀形成类似于内部指令'v-if'，'v-text'的形式。 </span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-focus</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 注意点： </span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//   1、 在自定义指令中  如果以驼峰命名的方式定义 如  Vue.directive('focusA',function()&#123;&#125;) </span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//   2、 在HTML中使用的时候 只能通过 v-focus-a 来使用 </span></span></span><br><span class="line">    </span><br><span class="line"><span class="actionscript"><span class="comment">// 注册一个全局自定义指令 v-focus</span></span></span><br><span class="line"><span class="actionscript">Vue.directive(<span class="string">'focus'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">	<span class="comment">// 当绑定元素插入到 DOM 中。 其中 el为dom元素</span></span></span><br><span class="line"><span class="actionscript">	inserted: <span class="function"><span class="keyword">function</span> <span class="params">(el)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">		<span class="comment">// 聚焦元素</span></span></span><br><span class="line">		el.focus();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="actionscript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">　el:<span class="string">'#app'</span></span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Vue-directive-注册全局指令—带参数"><a href="#Vue-directive-注册全局指令—带参数" class="headerlink" title="Vue.directive  注册全局指令—带参数"></a>Vue.directive 注册全局指令—带参数</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-color</span>=<span class="string">'msg'</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line">  /*</span><br><span class="line">    自定义指令-带参数</span><br><span class="line">    bind - 只调用一次，在指令第一次绑定到元素上时候调用</span><br><span class="line">  */</span><br><span class="line"><span class="actionscript">  Vue.directive(<span class="string">'color'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// bind声明周期, 只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置</span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// el 为当前自定义指令的DOM元素  </span></span></span><br><span class="line"><span class="actionscript">    <span class="comment">// binding 为自定义的函数形参   通过自定义属性传递过来的值 存在 binding.value 里面</span></span></span><br><span class="line"><span class="actionscript">    bind: <span class="function"><span class="keyword">function</span><span class="params">(el, binding)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 根据指令的参数设置背景色</span></span></span><br><span class="line"><span class="actionscript">      <span class="comment">// console.log(binding.value.color)</span></span></span><br><span class="line">      el.style.backgroundColor = binding.value.color;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      msg: &#123;</span><br><span class="line"><span class="actionscript">        color: <span class="string">'aqua'</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="自定义指令局部指令"><a href="#自定义指令局部指令" class="headerlink" title="自定义指令局部指令"></a>自定义指令局部指令</h2><ul><li>局部指令，需要定义在 directives 的选项 用法和全局用法一样</li><li>局部指令只能在当前组件里面使用</li><li>当全局指令和局部指令同名时以局部指令优先</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-color</span>=<span class="string">'msg'</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-focus</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line">  /*</span><br><span class="line">    自定义指令-局部指令</span><br><span class="line">  */</span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      msg: &#123;</span><br><span class="line"><span class="actionscript">        color: <span class="string">'aqua'</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="actionscript"> 	  <span class="comment">//局部指令，需要定义在  directives 的选项</span></span></span><br><span class="line">    directives: &#123;</span><br><span class="line">      color: &#123;</span><br><span class="line"><span class="actionscript">        bind: <span class="function"><span class="keyword">function</span><span class="params">(el, binding)</span></span>&#123;</span></span><br><span class="line">          el.style.backgroundColor = binding.value.color;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      focus: &#123;</span><br><span class="line"><span class="actionscript">        inserted: <span class="function"><span class="keyword">function</span><span class="params">(el)</span> </span>&#123;</span></span><br><span class="line">          el.focus();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="表单操作"><a href="#表单操作" class="headerlink" title="表单操作"></a>表单操作</h1><h2 id="获取单选框中的值"><a href="#获取单选框中的值" class="headerlink" title="获取单选框中的值"></a>获取单选框中的值</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">1、 两个单选框需要同时通过v-model 双向绑定 一个值 </span></span><br><span class="line"><span class="comment">2、 每一个单选框必须要有value属性  且value 值不能一样 </span></span><br><span class="line"><span class="comment">3、 当某一个单选框选中的时候 v-model  会将当前的 value值 改变 data 中的 数据</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"male"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">v-model</span>=<span class="string">'gender'</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"male"</span>&gt;</span>boy<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"female"</span> <span class="attr">value</span>=<span class="string">"2"</span> <span class="attr">v-model</span>=<span class="string">'gender'</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"female"</span>&gt;</span>girl<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"agree"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"agree"</span> <span class="attr">v-model</span>=<span class="string">"isAgree"</span>&gt;</span>同意协议</span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>您选择的是: &#123;&#123;isAgree&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">:disabled</span>=<span class="string">"!isAgree"</span>&gt;</span>下一步<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line"> 	data: &#123;</span><br><span class="line"> 		isAgree: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// 默认会让当前的 value 值为 2 的单选框选中</span></span><br><span class="line">    gender: <span class="number">2</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="label-for-介绍-容易忽略"><a href="#label-for-介绍-容易忽略" class="headerlink" title="label for 介绍(容易忽略)"></a>label for 介绍(容易忽略)</h2><h3 id="一、使用介绍"><a href="#一、使用介绍" class="headerlink" title="一、使用介绍"></a>一、使用介绍</h3><p>定义：for属性规定label与哪个表单元素绑定。</p><p><label>是专门为<input>元素服务的，为其定义标记。</label></p><p>label 和表单控件绑定方式有两种：</p><h4 id="方法一：将表单控件作为label的内容，这种就是隐式绑定。"><a href="#方法一：将表单控件作为label的内容，这种就是隐式绑定。" class="headerlink" title="方法一：将表单控件作为label的内容，这种就是隐式绑定。"></a>方法一：将表单控件作为label的内容，这种就是隐式绑定。</h4><p>此时不需要for属性，绑定的控件也不需要id属性。</p><p>隐式绑定：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Date of Birth: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"DofB"</span> /&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="方法二：为label标签下的for属性命名一个目标表单的id，这种就是显示绑定。"><a href="#方法二：为label标签下的for属性命名一个目标表单的id，这种就是显示绑定。" class="headerlink" title="方法二：为label标签下的for属性命名一个目标表单的id，这种就是显示绑定。"></a>方法二：为label标签下的for属性命名一个目标表单的id，这种就是显示绑定。</h4><p>显式绑定：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"SSN"</span>&gt;</span>Social Security Number:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"SocSecNum"</span> <span class="attr">id</span>=<span class="string">"SSN"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h3 id="二、为什么要给label上面加上for属性"><a href="#二、为什么要给label上面加上for属性" class="headerlink" title="二、为什么要给label上面加上for属性"></a>二、为什么要给label上面加上for属性</h3><p>给 label 加了 for 属性绑定了input控件后，可以提高鼠标用户的用户体检。</p><p>如果在label 元素内点击文本，就会触发此控件，也就是说，当用户渲染该标签时，浏览器就会自动将焦点转到和标签相关的表单控件上。</p><h2 id="获取复选框中的值"><a href="#获取复选框中的值" class="headerlink" title="获取复选框中的值"></a>获取复选框中的值</h2><ul><li>通过v-model</li><li>和获取单选框中的值一样</li><li>复选框 <code>checkbox</code> 这种的组合时 data 中的 hobby 我们要定义成数组 否则无法实现多选</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">	1、 复选框需要同时通过v-model 双向绑定 一个值 </span></span><br><span class="line"><span class="comment">  2、 每一个复选框必须要有value属性  且value 值不能一样 </span></span><br><span class="line"><span class="comment">	3、 当某一个单选框选中的时候 v-model  会将当前的 value值 改变 data 中的 数据</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span>&gt;</span>Hobbies: <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"run"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">v-model</span>=<span class="string">'hobbies'</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"ball"</span>&gt;</span>run<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"sing"</span> <span class="attr">value</span>=<span class="string">"2"</span> <span class="attr">v-model</span>=<span class="string">'hobbies'</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"sing"</span>&gt;</span>sing<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"code"</span> <span class="attr">value</span>=<span class="string">"3"</span> <span class="attr">v-model</span>=<span class="string">'hobbies'</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"code"</span>&gt;</span>code<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">v-for</span>=<span class="string">"item in originHobbies"</span> <span class="attr">:for</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">:value</span>=<span class="string">"item"</span> <span class="attr">:id</span>=<span class="string">"item"</span> <span class="attr">v-model</span>=<span class="string">"hobbies"</span>&gt;</span>&#123;&#123;item&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line"> data: &#123;</span><br><span class="line">    <span class="comment">// 默认会让当前的 value 值为 2 和 3 的复选框选中</span></span><br><span class="line">    hobbies: [<span class="string">'2'</span>, <span class="string">'3'</span>],</span><br><span class="line">    originHobbies: [<span class="string">'篮球'</span>, <span class="string">'足球'</span>, <span class="string">'乒乓球'</span>, <span class="string">'羽毛球'</span>, <span class="string">'台球'</span>, <span class="string">'高尔夫球'</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="获取下拉框和文本框中的值"><a href="#获取下拉框和文本框中的值" class="headerlink" title="获取下拉框和文本框中的值"></a>获取下拉框和文本框中的值</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>职业：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">		1、 需要给select  通过v-model 双向绑定 一个值 </span></span><br><span class="line"><span class="comment">    2、 每一个option  必须要有value属性  且value 值不能一样 </span></span><br><span class="line"><span class="comment">    3、 当某一个option选中的时候 v-model  会将当前的 value值 改变 data 中的 数据</span></span><br><span class="line"><span class="comment">	--&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 去掉multiple 即单选取值且将occupation设置为值而不是数组 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">'occupation'</span> <span class="attr">multiple</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"0"</span>&gt;</span>请选择职业...<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span>教师<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"2"</span>&gt;</span>软件工程师<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"3"</span>&gt;</span>律师<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- textarea 是 一个双标签   不需要绑定value 属性的  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">v-model</span>=<span class="string">'desc'</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line"> data: &#123;</span><br><span class="line">    <span class="comment">// 默认会让当前的 value 值为 2 和 3 的下拉框选中</span></span><br><span class="line">   	occupation: [<span class="string">'2'</span>, <span class="string">'3'</span>],</span><br><span class="line"> 	 	desc: <span class="string">'nihao'</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="表单修饰符"><a href="#表单修饰符" class="headerlink" title="表单修饰符"></a>表单修饰符</h2><ul><li><p>.number 转换为数值</p><ul><li>注意点：</li><li>当开始输入非数字的字符串时，因为Vue无法将字符串转换成数值</li><li>所以属性值将实时更新成相同的字符串。即使后面输入数字，也将被视作字符串。</li></ul></li><li><p>.trim 自动过滤用户输入的首尾空白字符</p><ul><li>只能去掉首尾的 不能去除中间的空格</li></ul></li><li><p>.lazy 将input事件切换成change事件</p><ul><li>.lazy 修饰符延迟了同步更新属性值的时机。即将原本绑定在 input 事件的同步逻辑转变为绑定在 change 事件上</li><li>在失去焦点 或者 按下回车键时才更新</li></ul></li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 自动将用户的输入值转为数值类型 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.number</span>=<span class="string">"age"</span> <span class="attr">type</span>=<span class="string">"number"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--自动过滤用户输入的首尾空白字符   --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model.trim</span>=<span class="string">"msg"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 在“change”时而非“input”时更新 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model.lazy</span>=<span class="string">"msg"</span> &gt;</span></span><br></pre></td></tr></table></figure><h1 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h1><h2 id="Explanation-7"><a href="#Explanation-7" class="headerlink" title="Explanation"></a>Explanation</h2><ul><li>Vue.js允许自定义过滤器，可被用于一些常见的文本格式化。</li><li>过滤器可以用在两个地方：双花括号插值和v-bind表达式。</li><li>过滤器应该被添加在JavaScript表达式的尾部，由“管道”符号指示</li><li>支持级联操作</li><li>过滤器不改变真正的<code>data</code>，而只是改变渲染的结果，并返回过滤后的版本</li><li>全局注册时是filter，没有s的。而局部过滤器是filters，是有s的</li></ul><h3 id="Example-6"><a href="#Example-6" class="headerlink" title="Example"></a>Example</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">'msg'</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- upper 被定义为接收单个参数的过滤器函数，表达式  msg  的值将作为参数传入到函数中 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;msg | upper&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--  </span></span><br><span class="line"><span class="comment">    支持级联操作</span></span><br><span class="line"><span class="comment">    upper  被定义为接收单个参数的过滤器函数，表达式msg 的值将作为参数传入到函数中。</span></span><br><span class="line"><span class="comment">  	然后继续调用同样被定义为接收单个参数的过滤器 lower ，将upper 的结果传递到lower中</span></span><br><span class="line"><span class="comment">	--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;msg | upper | lower&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">:abc</span>=<span class="string">'msg | upper'</span>&gt;</span>测试数据<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="comment">//  lower  为全局过滤器     </span></span><br><span class="line">	Vue.filter(<span class="string">'lower'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">	  <span class="keyword">return</span> val.charAt(<span class="number">0</span>).toLowerCase() + val.slice(<span class="number">1</span>);</span><br><span class="line">	&#125;);</span><br><span class="line">	<span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	  el: <span class="string">'#app'</span>,</span><br><span class="line">	  data: &#123;</span><br><span class="line">	    msg: <span class="string">''</span></span><br><span class="line">	  &#125;,</span><br><span class="line">	  <span class="comment">//  定义filters 中的过滤器为局部过滤器 </span></span><br><span class="line">	  filters: &#123;</span><br><span class="line">	    <span class="comment">//   upper  自定义的过滤器名字 </span></span><br><span class="line">	    <span class="comment">//    upper 被定义为接收单个参数的过滤器函数，表达式  msg  的值将作为参数传入到函数中</span></span><br><span class="line">	    upper: <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">	     <span class="comment">//  过滤器中一定要有返回值 这样外界使用过滤器的时候才能拿到结果</span></span><br><span class="line">	      <span class="keyword">return</span> val.charAt(<span class="number">0</span>).toUpperCase() + val.slice(<span class="number">1</span>);</span><br><span class="line">	    &#125;</span><br><span class="line">	  &#125;</span><br><span class="line">	&#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="过滤器中传递参数"><a href="#过滤器中传递参数" class="headerlink" title="过滤器中传递参数"></a>过滤器中传递参数</h2><h3 id="example"><a href="#example" class="headerlink" title="example"></a>example</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">		filterA 被定义为接收三个参数的过滤器函数。</span></span><br><span class="line"><span class="comment">		其中 message 的值作为第一个参数，</span></span><br><span class="line"><span class="comment">		普通字符串 'arg1' 作为第二个参数，表达式 arg2 的值作为第三个参数。</span></span><br><span class="line"><span class="comment">	--&gt;</span></span><br><span class="line">    &#123;&#123; message | filterA('arg1', 'arg2') &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">// 在过滤器中 第一个参数 对应的是  管道符前面的数据   n  此时对应 message</span></span><br><span class="line">  <span class="comment">// 第2个参数  a 对应 实参  arg1 字符串</span></span><br><span class="line">  <span class="comment">// 第3个参数  b 对应 实参  arg2 字符串</span></span><br><span class="line">  Vue.filter(<span class="string">'filterA'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">n,a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">10</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> n+a;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n+b;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el:<span class="string">"#box"</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">        message: <span class="string">"哈哈哈"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="dateFormat-过滤器"><a href="#dateFormat-过滤器" class="headerlink" title="dateFormat 过滤器"></a>dateFormat 过滤器</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Vue.filter(<span class="string">'dateFormat'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">dateStr, pattern = <span class="string">""</span></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 根据给定的时间字符串，得到特定的时间</span></span><br><span class="line">  <span class="keyword">var</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>(dateStr)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//   yyyy-mm-dd</span></span><br><span class="line">  <span class="keyword">var</span> y = dt.getFullYear()</span><br><span class="line">  <span class="keyword">var</span> m = dt.getMonth() + <span class="number">1</span></span><br><span class="line">  <span class="keyword">var</span> d = dt.getDate()</span><br><span class="line"></span><br><span class="line">  <span class="comment">// return y + '-' + m + '-' + d</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (pattern.toLowerCase() === <span class="string">'yyyy-mm-dd'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;y&#125;</span>-<span class="subst">$&#123;m&#125;</span>-<span class="subst">$&#123;d&#125;</span>`</span></span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> hh = dt.getHours()</span><br><span class="line">    <span class="keyword">var</span> mm = dt.getMinutes()</span><br><span class="line">    <span class="keyword">var</span> ss = dt.getSeconds()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;y&#125;</span>-<span class="subst">$&#123;m&#125;</span>-<span class="subst">$&#123;d&#125;</span> <span class="subst">$&#123;hh&#125;</span>:<span class="subst">$&#123;mm&#125;</span>:<span class="subst">$&#123;ss&#125;</span>`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="ES6-部分语法"><a href="#ES6-部分语法" class="headerlink" title="ES6 部分语法"></a>ES6 部分语法</h1><h2 id="var-ES5-amp-let"><a href="#var-ES5-amp-let" class="headerlink" title="var(ES5) &amp; let"></a>var(ES5) &amp; let</h2><h3 id="块级作用域"><a href="#块级作用域" class="headerlink" title="块级作用域"></a>块级作用域</h3><p>指定变量能在该块级作用，不影响其他代码块的执行<br>var —&gt; don’t have;<br>let —&gt; have;</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//	i 始终 = btns.length</span></span><br><span class="line"><span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;btns.length; i++) &#123;</span><br><span class="line">  btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为什么闭包可以解决问题: 函数是一个作用域.</span></span><br><span class="line"><span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;btns.length; i++) &#123;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123; <span class="comment">// 0</span></span><br><span class="line">    btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'第'</span> + num + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//	i = i(0,1,2....)</span></span><br><span class="line"><span class="keyword">const</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; btns.length; i++) &#123;</span><br><span class="line">  btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="详细解释"><a href="#详细解释" class="headerlink" title="详细解释"></a>详细解释</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1.情况一: ES5中没有使用闭包(错误的方式)</span></span><br><span class="line">  i = <span class="number">2</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// i = 0</span></span><br><span class="line">    btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// i = 2</span></span><br><span class="line">    btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.情况二: ES5中使用闭包</span></span><br><span class="line">  <span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;btns.length; i++) &#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123; <span class="comment">// 0</span></span><br><span class="line">      btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;) (i)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  i = <span class="number">100000000</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123; <span class="comment">// i = 0</span></span><br><span class="line">    btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123; <span class="comment">// i = 1</span></span><br><span class="line">    btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123; <span class="comment">// i = 2</span></span><br><span class="line">    btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ES6中的let</span></span><br><span class="line">  <span class="keyword">const</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; btns.length; i++) &#123;</span><br><span class="line">    btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  i = <span class="number">10000000</span></span><br><span class="line">  &#123; i = <span class="number">0</span></span><br><span class="line">    btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#123; i = <span class="number">1</span></span><br><span class="line">    btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#123; i = <span class="number">2</span></span><br><span class="line">    btns[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'第'</span> + i + <span class="string">'个按钮被点击'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="const-指向的内存地址不再改变"><a href="#const-指向的内存地址不再改变" class="headerlink" title="const(指向的内存地址不再改变)"></a>const(指向的内存地址不再改变)</h2><ul><li>1.const修饰的标识符被赋值之后, 不能修改</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">'tadm'</span>;</span><br><span class="line">name = <span class="string">'liu'</span>; <span class="comment">//	Uncaught TypeError: Assignment to constant variable.</span></span><br></pre></td></tr></table></figure><ul><li>2.在使用const定义标识符,必须进行赋值</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">'tadm'</span>;</span><br><span class="line"><span class="keyword">const</span> name;	<span class="comment">//	Uncaught SyntaxError: Missing initializer in const declaration</span></span><br></pre></td></tr></table></figure><ul><li>3.常量的含义是指向的对象不能修改, 但是可以改变对象内部的属性.</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> info = &#123;</span><br><span class="line">  name: <span class="string">'tadm'</span>,</span><br><span class="line">  age: <span class="number">19</span>,</span><br><span class="line">  height: <span class="number">1.75</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"></span><br><span class="line">obj.name = <span class="string">'liu'</span>;</span><br><span class="line">obj.age = <span class="number">20</span>;</span><br><span class="line">obj.height = <span class="number">1.78</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);	<span class="comment">//	change success</span></span><br></pre></td></tr></table></figure><h2 id="对象字面量增强写法"><a href="#对象字面量增强写法" class="headerlink" title="对象字面量增强写法"></a>对象字面量增强写法</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">obj.xxx = xxx; </span><br><span class="line">...;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">	name : <span class="string">'tadm'</span>,</span><br><span class="line">	study: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">'study'</span>) &#125;</span><br><span class="line">	<span class="comment">//	函数增强写法</span></span><br><span class="line">	study() &#123; <span class="built_in">console</span>.log(<span class="string">'study'</span>) &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="函数可变参数-…"><a href="#函数可变参数-…" class="headerlink" title="函数可变参数(…)"></a>函数可变参数(…)</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...num</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(num)</span><br><span class="line">&#125;</span><br><span class="line">sum(<span class="number">23</span>,<span class="number">22</span>,<span class="number">34</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"><span class="comment">//	(5) [23, 22, 34, 5, 6]0: 23 1: 22 2: 34 3: 5 4: 6 length: 5__proto__: Array(0)</span></span><br></pre></td></tr></table></figure><h2 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">'tadm'</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">`my test`</span> <span class="comment">//	接收空壳回车等</span></span><br></pre></td></tr></table></figure><h2 id="More-待续"><a href="#More-待续" class="headerlink" title="More 待续"></a>More 待续</h2><h1 id="数组响应式方法"><a href="#数组响应式方法" class="headerlink" title="数组响应式方法"></a>数组响应式方法</h1><h2 id="push"><a href="#push" class="headerlink" title="push()"></a>push()</h2><p>在数组最后面添加元素</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.letters.push(<span class="string">'aaa'</span>)</span><br><span class="line"><span class="keyword">this</span>.letters.push(<span class="string">'aaaa'</span>, <span class="string">'bbbb'</span>, <span class="string">'cccc'</span>)</span><br></pre></td></tr></table></figure><h2 id="pop"><a href="#pop" class="headerlink" title="pop()"></a>pop()</h2><p>删除数组中的最后一个元素</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.letters.pop();</span><br></pre></td></tr></table></figure><h2 id="shift"><a href="#shift" class="headerlink" title="shift()"></a>shift()</h2><p>删除数组中的第一个元素</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.letters.shift();</span><br></pre></td></tr></table></figure><h2 id="unshift"><a href="#unshift" class="headerlink" title="unshift()"></a>unshift()</h2><p>在数组最前面添加元素</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.letters.unshift()</span><br><span class="line"><span class="keyword">this</span>.letters.unshift(<span class="string">'aaa'</span>, <span class="string">'bbb'</span>, <span class="string">'ccc'</span>)</span><br></pre></td></tr></table></figure><h2 id="splice"><a href="#splice" class="headerlink" title="splice()"></a>splice()</h2><p>删除元素/插入元素/替换元素<br>第一个参数是startPostion<br>删除元素: 第二个参数传入要删除的元素个数(不传默认删除后面所有的元素)<br>替换元素: 第二个参数传入要替换的元素个数,接着后面是用于替换前面的元素(可以不等于替换元素个数,不推荐)<br>插入元素: 第二个参数, 传入0, 并且后面跟上要插入的元素</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">splice(start)</span><br><span class="line">splice(start)</span><br><span class="line"><span class="keyword">this</span>.letters.splice(<span class="number">1</span>, <span class="number">3</span>, <span class="string">'m'</span>, <span class="string">'n'</span>, <span class="string">'l'</span>, <span class="string">'x'</span>)</span><br><span class="line"><span class="keyword">this</span>.letters.splice(<span class="number">1</span>, <span class="number">0</span>, <span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>)</span><br></pre></td></tr></table></figure><h2 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h2><p>数组排序<br>this.letters.sort()</p><h2 id="reverse"><a href="#reverse" class="headerlink" title="reverse()"></a>reverse()</h2><p>数组逆序<br>this.letters.reverse()</p><h2 id="通过索引值修改数组中的元素"><a href="#通过索引值修改数组中的元素" class="headerlink" title="通过索引值修改数组中的元素"></a>通过索引值修改数组中的元素</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.letters[<span class="number">0</span>] = <span class="string">'m'</span>;	<span class="comment">//	非响应式</span></span><br><span class="line"><span class="keyword">this</span>.letters.splice(<span class="number">0</span>, <span class="number">1</span>, <span class="string">'m'</span>)	<span class="comment">// 响应式</span></span><br><span class="line"><span class="keyword">set</span>(被修改对象, 索引值, 修改后的值)</span><br><span class="line">Vue.<span class="keyword">set</span>(this.letters, 0, 'm')		// 响应式</span><br><span class="line">Vue.delete(obj,'key')		// 响应式</span><br></pre></td></tr></table></figure><h1 id="Cart-Demo"><a href="#Cart-Demo" class="headerlink" title="Cart Demo"></a>Cart Demo</h1><p><img src="https://i.loli.net/2020/01/15/SdEjOm9WHh2InDp.png" alt="image.png"></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"books.length"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>书籍名称<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>出版日期<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>价格<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>购买数量<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in books"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.id&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.date&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.price | showPrice&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"decrement(index)"</span> <span class="attr">v-bind:disabled</span>=<span class="string">"item.count &lt;= 1"</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          &#123;&#123;item.count&#125;&#125;</span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"increment(index)"</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"removeHandle(index)"</span>&gt;</span>移除<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>总价格: &#123;&#123;totalPrice | showPrice&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else</span>&gt;</span>购物车为空<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    books: [</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">1</span>,</span><br><span class="line">        name: <span class="string">'《算法导论》'</span>,</span><br><span class="line">        date: <span class="string">'2006-9'</span>,</span><br><span class="line">        price: <span class="number">85.00</span>,</span><br><span class="line">        count: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">2</span>,</span><br><span class="line">        name: <span class="string">'《UNIX编程艺术》'</span>,</span><br><span class="line">        date: <span class="string">'2006-2'</span>,</span><br><span class="line">        price: <span class="number">59.00</span>,</span><br><span class="line">        count: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">3</span>,</span><br><span class="line">        name: <span class="string">'《编程珠玑》'</span>,</span><br><span class="line">        date: <span class="string">'2008-10'</span>,</span><br><span class="line">        price: <span class="number">39.00</span>,</span><br><span class="line">        count: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">4</span>,</span><br><span class="line">        name: <span class="string">'《代码大全》'</span>,</span><br><span class="line">        date: <span class="string">'2006-3'</span>,</span><br><span class="line">        price: <span class="number">128.00</span>,</span><br><span class="line">        count: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">// getFinalPrice(price) &#123;</span></span><br><span class="line">    <span class="comment">//   return '¥' + price.toFixed(2)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    increment(index) &#123;</span><br><span class="line">      <span class="keyword">this</span>.books[index].count++</span><br><span class="line">    &#125;,</span><br><span class="line">    decrement(index) &#123;</span><br><span class="line">      <span class="keyword">this</span>.books[index].count--</span><br><span class="line">    &#125;,</span><br><span class="line">    removeHandle(index) &#123;</span><br><span class="line">      <span class="keyword">this</span>.books.splice(index, <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    totalPrice() &#123;</span><br><span class="line">      <span class="comment">// 1.普通的for循环</span></span><br><span class="line">      <span class="keyword">let</span> totalPrice = <span class="number">0</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.books.length; i++) &#123;</span><br><span class="line">        totalPrice += <span class="keyword">this</span>.books[i].price * <span class="keyword">this</span>.books[i].count</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 2.for (let i in this.books)</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> <span class="keyword">this</span>.books) &#123;</span><br><span class="line">        <span class="keyword">const</span> book = <span class="keyword">this</span>.books[i]</span><br><span class="line">        totalPrice += book.price * book.count</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 3.for (let i of this.books)</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> <span class="keyword">this</span>.books) &#123;</span><br><span class="line">        totalPrice += item.price * item.count</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> totalPrice</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 4.reduce</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.books.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">preValue, book</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> preValue + book.price * book.count</span><br><span class="line">      &#125;, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  filters: &#123;</span><br><span class="line">    showPrice(price) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'¥'</span> + price.toFixed(<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h1><h2 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h2><p>filter中的回调函数有一个要求: 必须返回一个boolean值<br>true: 当返回true时, 函数内部会自动将这次回调的n加入到新的数组中<br>false: 当返回false时, 函数内部会过滤掉这次的n</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nums = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">111</span>, <span class="number">222</span>, <span class="number">444</span>, <span class="number">40</span>, <span class="number">50</span>]</span><br><span class="line"><span class="keyword">let</span> newNums = nums.filter(<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n &lt; <span class="number">100</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(newNums);</span><br></pre></td></tr></table></figure><h2 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 20, 40, 80, 100</span></span><br><span class="line"><span class="keyword">let</span> new2Nums = newNums.map(<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123; <span class="comment">// 20</span></span><br><span class="line">  <span class="keyword">return</span> n * <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(new2Nums);</span><br></pre></td></tr></table></figure><h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a>reduce()</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// reduce作用对数组中所有的内容进行汇总</span></span><br><span class="line"><span class="keyword">let</span> total = new2Nums.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">preValue, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> preValue + n</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(total);</span><br><span class="line"></span><br><span class="line">第一次: preValue <span class="number">0</span> n <span class="number">20</span></span><br><span class="line">第二次: preValue <span class="number">20</span> n <span class="number">40</span></span><br><span class="line">第二次: preValue <span class="number">60</span> n <span class="number">80</span></span><br><span class="line">第二次: preValue <span class="number">140</span> n <span class="number">100</span></span><br><span class="line"><span class="number">240</span></span><br></pre></td></tr></table></figure><h2 id="整合"><a href="#整合" class="headerlink" title="整合"></a>整合</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> total = nums.filter(<span class="function"><span class="params">n</span> =&gt;</span> n &lt; <span class="number">100</span>).map(<span class="function"><span class="params">n</span> =&gt;</span> n * <span class="number">2</span>).reduce(<span class="function">(<span class="params">(pre, n</span>) =&gt;</span> pre + n),<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(total);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> total = nums.filter(<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n &lt; <span class="number">100</span></span><br><span class="line">&#125;).map(<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n * <span class="number">2</span></span><br><span class="line">&#125;).reduce(<span class="function"><span class="keyword">function</span> (<span class="params">prevValue, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> prevValue + n</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(total);</span><br></pre></td></tr></table></figure><h1 id="Vue-组件化开发"><a href="#Vue-组件化开发" class="headerlink" title="Vue 组件化开发"></a>Vue 组件化开发</h1><h2 id="Explanation-8"><a href="#Explanation-8" class="headerlink" title="Explanation"></a>Explanation</h2><p><a href="https://cn.vuejs.org/v2/guide/components-registration.html" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/components-registration.html</a><br>思想：任何的应用都会被抽象成一颗组件树,各个组件构建成完整的应用。</p><p><img src="https://cn.vuejs.org/images/components.png" alt=""></p><p>应用：尽可能的将页面拆分成一个个小的、可复用的组件,这样让我们的代码更加方便组织和管理，并且扩展性也更强。</p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol><li>创建组件构造器</li><li>注册组件</li><li>使用组件<br><img src="https://i.loli.net/2020/01/15/uj4R8EOtxSgDcZF.png" alt=""></li></ol><h2 id="定义组件名"><a href="#定义组件名" class="headerlink" title="定义组件名"></a>定义组件名</h2><h3 id="使用-kebab-case"><a href="#使用-kebab-case" class="headerlink" title="使用 kebab-case"></a>使用 kebab-case</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">'my-component-name'</span>, &#123; <span class="comment">/* ... */</span> &#125;)</span><br></pre></td></tr></table></figure><p>当使用 kebab-case (短横线分隔命名) 定义一个组件时，你也必须在引用这个自定义元素时使用 kebab-case，例如<my-component-name></my-component-name></p><h3 id="使用-PascalCase"><a href="#使用-PascalCase" class="headerlink" title="使用 PascalCase"></a>使用 PascalCase</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">'MyComponentName'</span>, &#123; <span class="comment">/* ... */</span> &#125;)</span><br></pre></td></tr></table></figure><p>当使用 PascalCase (首字母大写命名) 定义一个组件时，你在引用这个自定义元素时两种命名法都可以使用。也就是说<my-component-name> 和<mycomponentname> 都是可接受的。注意，尽管如此，直接在 DOM (即非字符串的模板) 中使用时只有 kebab-case 是有效的。</mycomponentname></my-component-name></p><h2 id="全局组件-amp-局部组件"><a href="#全局组件-amp-局部组件" class="headerlink" title="全局组件 &amp; 局部组件"></a>全局组件 &amp; 局部组件</h2><h3 id="全局组件"><a href="#全局组件" class="headerlink" title="全局组件"></a>全局组件</h3><p>通过Vue.component()注册/定义组件,该组件可以在任意Vue示例下使用</p><h3 id="Example-7"><a href="#Example-7" class="headerlink" title="Example"></a>Example</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 2、 组件使用 组件名称 是以HTML标签的形式使用  --&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">my-component</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hello-world</span>&gt;</span><span class="tag">&lt;/<span class="name">hello-world</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 组件构造器</span></span><br><span class="line"><span class="keyword">const</span> cpnC = Vue.extend(&#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div&gt;</span></span><br><span class="line"><span class="string">      &lt;h2&gt;我是标题&lt;/h2&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;我是内容,哈哈哈哈啊&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//   注册组件 </span></span><br><span class="line"><span class="comment">// 1、 my-component 就是组件中自定义的标签名</span></span><br><span class="line">Vue.component(<span class="string">'my-component'</span>, &#123;</span><br><span class="line">	template: <span class="string">'&lt;div&gt;A custom component!&lt;/div&gt;'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 创建根实例</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#example'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//	5  如果使用驼峰式命名组件，那么在使用组件的时候，只能在字符串模板中用驼峰的方式使用组件，</span></span><br><span class="line"><span class="comment">//	7、但是在普通的标签模板中，必须使用短横线的方式使用组件</span></span><br><span class="line">Vue.component(<span class="string">'HelloWorld'</span>, &#123;</span><br><span class="line">	data: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	  <span class="keyword">return</span> &#123;</span><br><span class="line">	    msg: <span class="string">'HelloWorld'</span></span><br><span class="line">	  &#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">//	子组件</span></span><br><span class="line">	template: <span class="string">'&lt;div&gt;&#123;&#123; msg &#125;&#125;&lt;/div&gt;'</span></span><br><span class="line">&#125;);</span><br><span class="line">    </span><br><span class="line">Vue.component(<span class="string">'button-counter'</span>, &#123;</span><br><span class="line">  <span class="comment">// 1、组件参数的data值必须是函数 </span></span><br><span class="line">  <span class="comment">// 同时这个函数要求返回一个对象  </span></span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      count: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//  2、组件模板必须是单个根元素</span></span><br><span class="line">  <span class="comment">//  3、组件模板的内容可以是模板字符串</span></span><br><span class="line">  <span class="comment">//  父组件</span></span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div&gt;</span></span><br><span class="line"><span class="string">      &lt;button @click="handle"&gt;点击了&#123;&#123; count &#125;&#125;次&lt;/button&gt;</span></span><br><span class="line"><span class="string">      &lt;button&gt;测试&lt;/button&gt;</span></span><br><span class="line"><span class="string">		  // 在字符串模板中可以使用驼峰的方式使用组件	</span></span><br><span class="line"><span class="string">	    &lt;HelloWorld&gt;&lt;/HelloWorld&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;`</span>,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handle: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.count ++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="局部组件"><a href="#局部组件" class="headerlink" title="局部组件"></a>局部组件</h3><p>只能在该实例下使用</p><h3 id="Example-8"><a href="#Example-8" class="headerlink" title="Example"></a>Example</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-component</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义组件的模板</span></span><br><span class="line"><span class="keyword">var</span> Child = &#123;</span><br><span class="line">  template: <span class="string">'&lt;div&gt;A custom component!&lt;/div&gt;'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'hello tadm'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//局部注册组件  </span></span><br><span class="line">  components: &#123;</span><br><span class="line">    <span class="comment">// &lt;my-component&gt; 将只在父模板可用  一定要在实例上注册了才能在html文件中使用</span></span><br><span class="line">    <span class="string">'my-component'</span>: Child</span><br><span class="line">    <span class="string">'my-component'</span>: &#123;</span><br><span class="line">		  template: <span class="string">`&lt;div&gt;A custom component!&lt;/div&gt;`</span>,</span><br><span class="line">		  data() &#123; <span class="keyword">return</span> &#123; &#125; &#125;,</span><br><span class="line">		  methods: &#123; &#125;</span><br><span class="line">		&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="组件模板分离写法-推荐"><a href="#组件模板分离写法-推荐" class="headerlink" title="组件模板分离写法(推荐)"></a>组件模板分离写法(推荐)</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容,呵呵呵<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">'cpn'</span>, &#123;</span><br><span class="line">  template: <span class="string">'#cpn'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123; &#125;)</span><br></pre></td></tr></table></figure><h2 id="组件data必须为一个函数并返回"><a href="#组件data必须为一个函数并返回" class="headerlink" title="组件data必须为一个函数并返回"></a>组件data必须为一个函数并返回</h2><p>原因： 因为Vue需要给每个组件对象返回一个新对象(内存地址不一样)，避免各组件间相互影响</p><h2 id="父子组件数据传递"><a href="#父子组件数据传递" class="headerlink" title="父子组件数据传递"></a>父子组件数据传递</h2><p>需求：父组件发送网络请求，收到数据再将其传递至子组件并进一步操作</p><h3 id="父组件–-gt-子组件"><a href="#父组件–-gt-子组件" class="headerlink" title="父组件–&gt;子组件"></a>父组件–&gt;子组件</h3><h4 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h4><p>子组件需要通过v-bind绑定指定数据给自己,同时在组件中通过props(properties-属性)接收相应数据</p><h4 id="Example-9"><a href="#Example-9" class="headerlink" title="Example"></a>Example</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;cpn v-bind:cmovies="movies"&gt;&lt;/cpn&gt;--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;cpn cmovies="movies" cmessage="message"&gt;&lt;/cpn&gt;--&gt;</span></span><br><span class="line">  //	不使用v-bind则不会将其识别为变量而是直接将其当作字符串传过去</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:cmessage</span>=<span class="string">"message"</span> <span class="attr">:cmovies</span>=<span class="string">"movies"</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 定义 cpn 组件模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in cmovies"</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; cmessage &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//	定义 cpn 组件</span></span><br><span class="line"><span class="keyword">const</span> cpn = &#123;</span><br><span class="line">  template: <span class="string">'#cpn'</span>,</span><br><span class="line">  <span class="comment">// 	可以是一个数组</span></span><br><span class="line">  <span class="comment">// props: ['cmovies', 'cmessage'],</span></span><br><span class="line">  <span class="comment">// 也可以通过对象设置传入以及设置更多默认参数</span></span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="comment">// 1.类型限制</span></span><br><span class="line">    <span class="comment">// cmovies: Array,</span></span><br><span class="line">    <span class="comment">// cmessage: String,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.提供一些默认值, 以及必传值</span></span><br><span class="line">    cmessage: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">'aaaaaaaa'</span>,</span><br><span class="line">      required: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 类型是对象或者数组时, 默认值必须是一个函数</span></span><br><span class="line">    cmovies: &#123;</span><br><span class="line">      type: <span class="built_in">Array</span>,</span><br><span class="line">      <span class="keyword">default</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'hello tadm'</span>,</span><br><span class="line">    movies: [<span class="string">'海王'</span>, <span class="string">'海贼王'</span>, <span class="string">'海尔兄弟'</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//	注册 cpn 组件</span></span><br><span class="line">  components: &#123;</span><br><span class="line">  	<span class="comment">//	'cpn': cpn</span></span><br><span class="line">  	<span class="comment">//	ES6 增强写法</span></span><br><span class="line">    cpn</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="props驼峰标识"><a href="#props驼峰标识" class="headerlink" title="props驼峰标识"></a>props驼峰标识</h4><h5 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h5><p>和组件定义一样，在普通标签中只能使用短横线分割</p><h5 id="example-1"><a href="#example-1" class="headerlink" title="example"></a>example</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:c-info</span>=<span class="string">"info"</span> <span class="attr">:child-my-message</span>=<span class="string">"message"</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; cInfo &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; childMyMessage &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> cpn = &#123;</span><br><span class="line">  template: <span class="string">'#cpn'</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    cInfo: &#123;</span><br><span class="line">      type: <span class="built_in">Object</span>,</span><br><span class="line">      <span class="keyword">default</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    childMyMessage: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    info: &#123;</span><br><span class="line">      name: <span class="string">'tadm'</span>,</span><br><span class="line">      age: <span class="number">19</span>,</span><br><span class="line">      height: <span class="number">1.75</span></span><br><span class="line">    &#125;,</span><br><span class="line">    message: <span class="string">'hello tadm'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cpn</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="子组件–-gt-父组件"><a href="#子组件–-gt-父组件" class="headerlink" title="子组件–&gt;父组件"></a>子组件–&gt;父组件</h3><h4 id="用法-1"><a href="#用法-1" class="headerlink" title="用法"></a>用法</h4><p>子组件通过$emit()来发射事件以及参数,在父组件中通过@(v-on)来监听传过来的事件并进行相应处理(比如发送网络请求)</p><h4 id="Example-10"><a href="#Example-10" class="headerlink" title="Example"></a>Example</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--父组件模板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 默认把$emit('function',item)中的item传给父组件,不会传递event(非浏览器对象自然不会产生event)--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> @<span class="attr">item-click</span>=<span class="string">"cpnClick"</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--子组件模板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-for</span>=<span class="string">"item in categories"</span> @<span class="attr">click</span>=<span class="string">"btnClick(item)"</span>&gt;</span></span><br><span class="line">      &#123;&#123; item.name &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> cpn = &#123;</span><br><span class="line">	template: <span class="string">'#cpn'</span>,</span><br><span class="line">	data() &#123;</span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">			categories: [</span><br><span class="line">        &#123;<span class="attr">id</span>: <span class="string">'aaa'</span>, <span class="attr">name</span>: <span class="string">'热门推荐'</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">id</span>: <span class="string">'bbb'</span>, <span class="attr">name</span>: <span class="string">'手机数码'</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">id</span>: <span class="string">'ccc'</span>, <span class="attr">name</span>: <span class="string">'家用家电'</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">id</span>: <span class="string">'ddd'</span>, <span class="attr">name</span>: <span class="string">'电脑办公'</span>&#125;,</span><br><span class="line">      ]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	methods: &#123;</span><br><span class="line">		btnClick(item) &#123;</span><br><span class="line">			<span class="keyword">this</span>.$emit(<span class="string">'item-click'</span>,item)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	el: <span class="string">'#app'</span>,</span><br><span class="line">	data: &#123; &#125;,</span><br><span class="line">	components: &#123;</span><br><span class="line">		<span class="comment">//	'cpn': cpn</span></span><br><span class="line">		cpn</span><br><span class="line">	&#125;</span><br><span class="line">	methods: &#123;</span><br><span class="line">		cpnClick(item) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'cpnClick'</span>,item)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="父子组件双向绑定案例"><a href="#父子组件双向绑定案例" class="headerlink" title="父子组件双向绑定案例"></a>父子组件双向绑定案例</h3><h4 id="v-model原型利用-v-bind-v-on"><a href="#v-model原型利用-v-bind-v-on" class="headerlink" title="v-model原型利用(v-bind,v-on)"></a>v-model原型利用(v-bind,v-on)</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:number1</span>=<span class="string">"num1"</span> <span class="attr">:number2</span>=<span class="string">"num2"</span></span></span><br><span class="line"><span class="tag">       @<span class="attr">num1change</span>=<span class="string">"num1change"</span> @<span class="attr">num2change</span>=<span class="string">"num2change"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props:&#123;&#123; number1 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data:&#123;&#123; dnumber1 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;input type="text" v-model="dnumber1"&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">:value</span>=<span class="string">"dnumber1"</span> @<span class="attr">input</span>=<span class="string">"num1Input"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props:&#123;&#123; number2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data:&#123;&#123; dnumber2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;input type="text" v-model="dnumber2"&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">:value</span>=<span class="string">"dnumber2"</span> @<span class="attr">input</span>=<span class="string">"num2Input"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	el: <span class="string">'#app'</span>,</span><br><span class="line">	data: &#123;</span><br><span class="line">		num1: <span class="number">1</span>,</span><br><span class="line">		num2: <span class="number">0</span></span><br><span class="line">	&#125;,</span><br><span class="line">	methods: &#123;</span><br><span class="line">		num1change(value) &#123;</span><br><span class="line">      <span class="keyword">this</span>.num1 = <span class="built_in">parseFloat</span>(value)</span><br><span class="line">    &#125;,</span><br><span class="line">    num2change(value) &#123;</span><br><span class="line">      <span class="keyword">this</span>.num2 = <span class="built_in">parseFloat</span>(value)</span><br><span class="line">    &#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	components: &#123;</span><br><span class="line">		<span class="keyword">const</span> cpn = &#123;</span><br><span class="line">			template: <span class="string">'#cpn'</span>,</span><br><span class="line">			props: &#123;</span><br><span class="line">				number1: <span class="built_in">Number</span>,</span><br><span class="line">				number2: <span class="built_in">Number</span></span><br><span class="line">			&#125;</span><br><span class="line">			data() &#123;</span><br><span class="line">				<span class="keyword">return</span> &#123;</span><br><span class="line">					dnumber1: <span class="keyword">this</span>.number1,</span><br><span class="line">					dnumber2: <span class="keyword">this</span>.number2</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;,</span><br><span class="line">			methods: &#123;</span><br><span class="line">				num1Input(event) &#123;</span><br><span class="line">          <span class="comment">// 1.将input中的value赋值到dnumber中</span></span><br><span class="line">          <span class="keyword">this</span>.dnumber1 = event.target.value;</span><br><span class="line"></span><br><span class="line">          <span class="comment">// 2.为了让父组件可以修改值, 发出一个事件</span></span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num1change'</span>, <span class="keyword">this</span>.dnumber1)</span><br><span class="line"></span><br><span class="line">          <span class="comment">// 3.同时修饰dnumber2的值</span></span><br><span class="line">          <span class="keyword">this</span>.dnumber2 = <span class="keyword">this</span>.dnumber1 * <span class="number">10</span>;</span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num2change'</span>, <span class="keyword">this</span>.dnumber2);</span><br><span class="line">        &#125;,</span><br><span class="line">        num2Input(event) &#123;</span><br><span class="line">          <span class="keyword">this</span>.dnumber2 = event.target.value;</span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num2change'</span>, <span class="keyword">this</span>.dnumber2)</span><br><span class="line"></span><br><span class="line">          <span class="comment">// 同时修饰dnumber2的值</span></span><br><span class="line">          <span class="keyword">this</span>.dnumber1 = <span class="keyword">this</span>.dnumber2 / <span class="number">10</span>;</span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num1change'</span>, <span class="keyword">this</span>.dnumber1);</span><br><span class="line">        &#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="v-model现用"><a href="#v-model现用" class="headerlink" title="v-model现用"></a>v-model现用</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:number1</span>=<span class="string">"num1"</span> <span class="attr">:number2</span>=<span class="string">"num2"</span></span></span><br><span class="line"><span class="tag">       @<span class="attr">num1-change</span>=<span class="string">"num1change"</span> @<span class="attr">num2-change</span>=<span class="string">"num2change"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props:&#123;&#123; number1 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data:&#123;&#123; dnumber1 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"dnumber1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props:&#123;&#123; number2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data:&#123;&#123; dnumber2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"dnumber2"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    num1: <span class="number">1</span>,</span><br><span class="line">    num2: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    num1change(value) &#123;</span><br><span class="line">      <span class="keyword">this</span>.num1 = <span class="built_in">parseFloat</span>(value)</span><br><span class="line">    &#125;,</span><br><span class="line">    num2change(value) &#123;</span><br><span class="line">      <span class="keyword">this</span>.num2 = <span class="built_in">parseFloat</span>(value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cpn: &#123;</span><br><span class="line">      template: <span class="string">'#cpn'</span>,</span><br><span class="line">      props: &#123;</span><br><span class="line">        number1: <span class="built_in">Number</span>,</span><br><span class="line">        number2: <span class="built_in">Number</span>,</span><br><span class="line">        name: <span class="string">''</span></span><br><span class="line">      &#125;,</span><br><span class="line">      data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          dnumber1: <span class="keyword">this</span>.number1,</span><br><span class="line">          dnumber2: <span class="keyword">this</span>.number2</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      watch: &#123;</span><br><span class="line">        dnumber1(newValue) &#123;</span><br><span class="line">          <span class="keyword">this</span>.dnumber2 = newValue * <span class="number">10</span>;</span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num1-change'</span>, newValue);</span><br><span class="line">        &#125;,</span><br><span class="line">        dnumber2(newValue) &#123;</span><br><span class="line">          <span class="keyword">this</span>.dnumber1 = newValue / <span class="number">10</span>;</span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num2-change'</span>, newValue);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="父子组件直接访问"><a href="#父子组件直接访问" class="headerlink" title="父子组件直接访问"></a>父子组件直接访问</h3><h4 id="父组件访问子组件"><a href="#父组件访问子组件" class="headerlink" title="父组件访问子组件"></a>父组件访问子组件</h4><ul><li>使用$children或$refs reference(引用)—&gt;推荐</li><li>this.$children是一个数组类型，它包含所有子组件对象，访问其中的子组件必须通过索引值(因此有很多子组件需要拿到其中一个时，往往不能确定它的索引值，甚至还可能会发生变化)</li><li>通常使用$refs来访问子组件：</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">ref</span>=<span class="string">"aaa"</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btnClick"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'你好啊'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    btnClick() &#123;</span><br><span class="line">      <span class="comment">// 1.$children</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.$children);</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> c <span class="keyword">of</span> <span class="keyword">this</span>.$children) &#123;</span><br><span class="line">        <span class="comment">// console.log(c.name);</span></span><br><span class="line">        c.showMessage();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.$children[<span class="number">3</span>].name);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 2.$refs =&gt; 对象类型, 默认是一个空的对象 ref='bbb'</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.$refs);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.$refs.aaa.name);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cpn: &#123;</span><br><span class="line">      template: <span class="string">'#cpn'</span>,</span><br><span class="line">      data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          name: <span class="string">'我是子组件的name'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        showMessage() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'showMessage'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="子组件访问父组件-不常用"><a href="#子组件访问父组件-不常用" class="headerlink" title="子组件访问父组件(不常用)"></a>子组件访问父组件(不常用)</h4><ul><li>使用$parent</li></ul><h4 id="子组件访问根组件"><a href="#子组件访问根组件" class="headerlink" title="子组件访问根组件"></a>子组件访问根组件</h4><ul><li>使用$root</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是cpn组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ccpn</span>&gt;</span><span class="tag">&lt;/<span class="name">ccpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"ccpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btnClick"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'hello tadm'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cpn: &#123;</span><br><span class="line">      template: <span class="string">'#cpn'</span>,</span><br><span class="line">      data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          name: <span class="string">'我是cpn组件的name'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      components: &#123;</span><br><span class="line">        ccpn: &#123;</span><br><span class="line">          template: <span class="string">'#ccpn'</span>,</span><br><span class="line">          methods: &#123;</span><br><span class="line">            btnClick() &#123;</span><br><span class="line">              <span class="comment">// 1.访问父组件$parent</span></span><br><span class="line">              <span class="built_in">console</span>.log(<span class="keyword">this</span>.$parent);  <span class="comment">//  VueComponent &#123;_uid: 1, _isVue: true, $options: &#123;…&#125;, _renderProxy: Proxy, _self: VueComponent, …&#125;</span></span><br><span class="line">              <span class="built_in">console</span>.log(<span class="keyword">this</span>.$parent.name);  <span class="comment">// 我是cpn组件的name</span></span><br><span class="line"></span><br><span class="line">              <span class="comment">// 2.访问根组件$root</span></span><br><span class="line">              <span class="built_in">console</span>.log(<span class="keyword">this</span>.$root);  <span class="comment">//  Vue &#123;_uid: 0, _isVue: true, $options: &#123;…&#125;, _renderProxy: Proxy, _self: Vue, …&#125;</span></span><br><span class="line">              <span class="built_in">console</span>.log(<span class="keyword">this</span>.$root.message);  <span class="comment">//  hello tadm</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="Vue-slot-插槽"><a href="#Vue-slot-插槽" class="headerlink" title="Vue slot 插槽"></a>Vue slot 插槽</h1><h2 id="默认插槽使用"><a href="#默认插槽使用" class="headerlink" title="默认插槽使用"></a>默认插槽使用</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>哈哈哈<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span>呵呵呵<span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span>&gt;</span>呵呵呵<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>我是div元素<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是p元素<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是组件, 哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;button&gt;按钮&lt;/button&gt;--&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'hello tadm'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cpn: &#123;</span><br><span class="line">      template: <span class="string">'#cpn'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="具名插槽使用"><a href="#具名插槽使用" class="headerlink" title="具名插槽使用"></a>具名插槽使用</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">"center"</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">slot</span>=<span class="string">"left"</span>&gt;</span>返回<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"left"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>左边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"center"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>中间<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"right"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>右边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'hello tadm'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cpn: &#123;</span><br><span class="line">      template: <span class="string">'#cpn'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="Vue-slot-插槽-2-6-0"><a href="#Vue-slot-插槽-2-6-0" class="headerlink" title="Vue slot 插槽(2.6.0+)"></a>Vue slot 插槽(2.6.0+)</h1><h2 id="默认插槽"><a href="#默认插槽" class="headerlink" title="默认插槽"></a>默认插槽</h2><h3 id="Example-11"><a href="#Example-11" class="headerlink" title="Example"></a>Example</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">navigation-link</span> <span class="attr">url</span>=<span class="string">"/profile"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 添加一个 Font Awesome 图标 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"fa fa-user"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  Your Profile</span><br><span class="line"><span class="tag">&lt;/<span class="name">navigation-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"nav-link"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">"url"</span> <span class="attr">class</span>=<span class="string">"nav-link"</span>&gt;</span></span><br><span class="line">		  <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'hello tadm'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    navigation-link: &#123;</span><br><span class="line">      template: <span class="string">'#nav-link'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ul><li>如果<navigation-link> 没有包含一个<slot> 元素，则该组件起始标签和结束标签之间的任何内容都会被抛弃。</slot></navigation-link></li><li>如果<navigation-link> 中有多个标签，则会被同时插入到插槽中</navigation-link></li></ul><h2 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h2><h3 id="Example-12"><a href="#Example-12" class="headerlink" title="Example"></a>Example</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"header"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"footer"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">base-layout</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Here might be a page title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>A paragraph for the main content.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>And another one.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 默认插槽也可如下 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:default</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>A paragraph for the main content.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>And another one.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Here's some contact info<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">base-layout</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Here might be a page title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>A paragraph for the main content.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>And another one.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Here's some contact info<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="注意-1"><a href="#注意-1" class="headerlink" title="注意"></a>注意</h3><p>v-slot 只能添加在<template> 上 (<a href="https://cn.vuejs.org/v2/guide/components-slots.html#%E7%8B%AC%E5%8D%A0%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD%E7%9A%84%E7%BC%A9%E5%86%99%E8%AF%AD%E6%B3%95" target="_blank" rel="noopener">只有一种例外情况</a>)，这一点和已经废弃的 slot attribute不同。</template></p><h2 id="编译作用域"><a href="#编译作用域" class="headerlink" title="编译作用域"></a>编译作用域</h2><h3 id="官方准则"><a href="#官方准则" class="headerlink" title="官方准则"></a>官方准则</h3><blockquote><p>父级模板里的所有内容都是在父级作用域中编译的；子模板里的所有内容都是在子作用域中编译的。</p></blockquote><h3 id="Example-13"><a href="#Example-13" class="headerlink" title="Example"></a>Example</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">v-show</span>=<span class="string">"isShow"</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- isShow: true --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">v-for</span>=<span class="string">"item in names"</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容, 哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-show</span>=<span class="string">"isShow"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- isShow: false --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'hello tadm'</span>,</span><br><span class="line">    isShow: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cpn: &#123;</span><br><span class="line">      template: <span class="string">'#cpn'</span>,</span><br><span class="line">      data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          isShow: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h2><p>由于插槽具有作用域，而作用域插槽使得子组件在父组件插槽能访问到子组件中的data并个性化使用数据(替换插槽默认处理方式)</p><h3 id="Example-废弃但便于理解"><a href="#Example-废弃但便于理解" class="headerlink" title="Example(废弃但便于理解)"></a>Example(废弃但便于理解)</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--目的是获取子组件中的pLanguages--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"slot"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--&lt;span v-for="item in slot.data"&gt; - &#123;&#123;item&#125;&#125;&lt;/span&gt;--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;slot.data.join(' - ')&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">:data</span>=<span class="string">"pLanguages"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in pLanguages"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'你好啊'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cpn: &#123;</span><br><span class="line">      template: <span class="string">'#cpn'</span>,</span><br><span class="line">      data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          pLanguages: [<span class="string">'JavaScript'</span>, <span class="string">'C++'</span>, <span class="string">'Java'</span>, <span class="string">'C#'</span>, <span class="string">'Python'</span>, <span class="string">'Go'</span>, <span class="string">'Swift'</span>]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="新版用法如下"><a href="#新版用法如下" class="headerlink" title="新版用法如下"></a>新版用法如下</h3><p><a href="https://cn.vuejs.org/v2/guide/components-slots.html#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/components-slots.html#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD</a></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">cpn</span> <span class="attr">v-slot:text</span>=<span class="string">"myslotProps"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; myslotProps.data.join(' - ') &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- &lt;span&gt;&#123;&#123; myslotProps.my.join(' - ') &#125;&#125;&lt;/span&gt; --&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"text"</span> <span class="attr">:data</span>=<span class="string">"pLanguages"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;slot name="text" :data="pLanguages" :my="tadm"&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;slot name="text" :data=[pLanguages,tadm]&gt; --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in pLanguages"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	el: <span class="string">'#app'</span>,</span><br><span class="line">	data: &#123; &#125;,</span><br><span class="line">	methods: &#123;</span><br><span class="line"></span><br><span class="line">	&#125;,</span><br><span class="line">	components: &#123;</span><br><span class="line">    cpn: &#123;</span><br><span class="line">      template: <span class="string">'#cpn'</span>,</span><br><span class="line">      data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          pLanguages: [<span class="string">'JavaScript'</span>, <span class="string">'C++'</span>, <span class="string">'Java'</span>, <span class="string">'C#'</span>, <span class="string">'Python'</span>, <span class="string">'Go'</span>, <span class="string">'Swift'</span>]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="注意-2"><a href="#注意-2" class="headerlink" title="注意"></a>注意</h3><ul><li>slot-text 与 v-slot:text 保持一致(这里是 text )</li><li>v-slot:text=”myslotProps” 与 保持一致(这里是 myslotProps)</li><li>:data = “pLanguages” 与 保持一致(这里是 data)</li><li>:data = “pLanguages” 与 子组件中 data 里的数据名保持一致(这里是 pLanguages)</li></ul><h1 id="模块化开发"><a href="#模块化开发" class="headerlink" title="模块化开发"></a>模块化开发</h1><p>解决变量重名，导入JS顺序问题以及提高复用性</p><h2 id="利用模块导出-了解"><a href="#利用模块导出-了解" class="headerlink" title="利用模块导出(了解)"></a>利用模块导出(了解)</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">var</span> moduleA = (&#123;</span><br><span class="line">	<span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">	obj.flag = <span class="literal">true</span></span><br><span class="line">	obj.func = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(name)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> obj</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">if</span>(moduleA.flag)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'success'</span>)</span><br><span class="line">&#125;</span><br><span class="line">moduleA.func(<span class="string">'tadm'</span>)</span><br></pre></td></tr></table></figure><h2 id="CommonJs-node-webpack"><a href="#CommonJs-node-webpack" class="headerlink" title="CommonJs(node/webpack)"></a>CommonJs(node/webpack)</h2><h3 id="exprots"><a href="#exprots" class="headerlink" title="exprots"></a>exprots</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="built_in">module</span>.exports&#123;</span><br><span class="line">	variable,</span><br><span class="line">	<span class="function"><span class="keyword">function</span>(<span class="params">...</span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="import"><a href="#import" class="headerlink" title="import"></a>import</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;...&#125; = <span class="built_in">require</span>(<span class="string">'./a.js'</span>)</span><br><span class="line">flag = ....flag</span><br><span class="line"><span class="keyword">if</span>(flag)&#123; <span class="keyword">do</span> more &#125;</span><br></pre></td></tr></table></figure><h2 id="export-amp-amp-import"><a href="#export-amp-amp-import" class="headerlink" title="export &amp;&amp; import"></a>export &amp;&amp; import</h2><h3 id="html导入设置"><a href="#html导入设置" class="headerlink" title="html导入设置"></a>html导入设置</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"module"</span> <span class="attr">src</span>=<span class="string">"./a.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"module"</span> <span class="attr">src</span>=<span class="string">"./b.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="export"><a href="#export" class="headerlink" title="export"></a>export</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="comment">// variable</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> name = <span class="string">'tadm'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">'tadm'</span> </span><br><span class="line"><span class="keyword">export</span> &#123; name,... &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// function or class</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">mul</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 * num2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  run() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'coding'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; mul,Person,... &#125;</span><br></pre></td></tr></table></figure><h3 id="export-default"><a href="#export-default" class="headerlink" title="export default"></a>export default</h3><p>export default在同一个模块中，不允许同时存在多个(唯一性,防止导入混乱)</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">const</span> address = <span class="string">'苏州市'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> address</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">argument</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(argument);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="import-1"><a href="#import-1" class="headerlink" title="import"></a>import</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// import from export</span></span><br><span class="line"><span class="keyword">import</span> &#123; name,... &#125; form <span class="string">"./a.js"</span></span><br><span class="line"><span class="keyword">import</span> &#123; mul,Person,... &#125; form <span class="string">"./a.js"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// import from export default</span></span><br><span class="line"><span class="keyword">import</span> addr <span class="keyword">from</span> <span class="string">"./b.js"</span></span><br><span class="line"><span class="built_in">console</span>.log(addr)</span><br><span class="line"><span class="keyword">import</span> addrfunc <span class="keyword">from</span> <span class="string">"./b.js"</span></span><br><span class="line">addrfunc(<span class="string">'tadm'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// import all</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> all <span class="keyword">from</span> <span class="string">'./a.js'</span></span><br><span class="line"><span class="built_in">console</span>.log(all.flag)</span><br><span class="line">all.mul(<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure><h1 id="webpack-other-gulp-grunt"><a href="#webpack-other-gulp-grunt" class="headerlink" title="webpack(other: gulp/grunt)"></a>webpack(other: gulp/grunt)</h1><h2 id="Explanation-9"><a href="#Explanation-9" class="headerlink" title="Explanation"></a>Explanation</h2><p>Home: <a href="https://www.webpackjs.com/" target="_blank" rel="noopener">https://www.webpackjs.com/</a><br>Document: <a href="https://www.webpackjs.com/guides/" target="_blank" rel="noopener">https://www.webpackjs.com/guides/</a><br>webpack是一个现代的JavaScript应用的静态模块打包工具</p><h2 id="VS-Gulp-Grunt"><a href="#VS-Gulp-Grunt" class="headerlink" title="VS Gulp/Grunt"></a>VS Gulp/Grunt</h2><h3 id="grunt-gulp-的核心是-Task"><a href="#grunt-gulp-的核心是-Task" class="headerlink" title="grunt/gulp 的核心是 Task"></a>grunt/gulp 的核心是 Task</h3><p>使用时可以配置一系列的task,并且定义task要处理的事务（例如ES6、ts转化，图片压缩，scss转成css）<br>之后让grunt/gulp来依次执行这些 task,而且让整个流程自动化。所以grunt/gulp也被称为前端自动化任务管理工具。</p><h3 id="什么时候用grunt-gulp呢？"><a href="#什么时候用grunt-gulp呢？" class="headerlink" title="什么时候用grunt/gulp呢？"></a>什么时候用grunt/gulp呢？</h3><p>当工程模块依赖非常简单,甚至是没有用到模块化的概念,只需要进行简单的合并、压缩，就使用grunt/gulp即可。<br>但是如果整个项目使用了模块化管理，而且相互依赖非常强，我们就可以使用更加强大的webpack了。</p><h3 id="grunt-gulp-和-webpack-差异"><a href="#grunt-gulp-和-webpack-差异" class="headerlink" title="grunt/gulp 和 webpack 差异"></a>grunt/gulp 和 webpack 差异</h3><p>grunt/gulp更加强调的是前端流程的自动化,模块化不是它的核心。<br>webpack更加强调模块化开发管理,而文件压缩合并、预处理等功能,是其附带的功能。</p><h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><p>Install node.js first to use npm(node package manager)</p><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm install --save-dev webpack</span><br><span class="line">npm install --save-dev webpack@&lt;version&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 指定<span class="number">3</span>.<span class="number">6</span>.<span class="number">0</span>版本进行全局安装 --&gt;</span><br><span class="line">cnpm i webpack@<span class="number">3</span>.<span class="number">6</span>.<span class="number">0</span> -g</span><br><span class="line"></span><br><span class="line">&lt;!-- 更多需要局部安装 webpack 解决 version 不一致 --&gt;</span><br><span class="line">cnpm i webpack@<span class="number">3</span>.<span class="number">6</span>.<span class="number">0</span> --save-dev</span><br><span class="line"></span><br><span class="line">&lt;!-- check version --&gt;</span><br><span class="line">webpack --version</span><br><span class="line"><span class="number">3</span>.<span class="number">6</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><h2 id="webpack初使用"><a href="#webpack初使用" class="headerlink" title="webpack初使用"></a>webpack初使用</h2><h3 id="commonJS"><a href="#commonJS" class="headerlink" title="commonJS"></a>commonJS</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mathUtils.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mul</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 * num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  add,</span><br><span class="line">  mul</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// info.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">'tadm'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> age = <span class="number">19</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> height = <span class="number">1.75</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; name,age,height &#125;</span><br></pre></td></tr></table></figure><h3 id="import-2"><a href="#import-2" class="headerlink" title="import"></a>import</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="comment">// 1.使用commonjs的模块化规范</span></span><br><span class="line"><span class="keyword">const</span> &#123;add, mul&#125; = <span class="built_in">require</span>(<span class="string">'./mathUtils.js'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">2</span>, <span class="number">3</span>),mul(<span class="number">2</span>, <span class="number">3</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.使用ES6的模块化的规范</span></span><br><span class="line"><span class="keyword">import</span> &#123;name, age, height&#125; <span class="keyword">from</span> <span class="string">"./info"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name,age,height);</span><br></pre></td></tr></table></figure><h3 id="webpack-package"><a href="#webpack-package" class="headerlink" title="webpack package"></a>webpack package</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">webpack src/main.js dist/bundle.js</span><br></pre></td></tr></table></figure><h3 id="HTML-Use"><a href="#HTML-Use" class="headerlink" title="HTML Use"></a>HTML Use</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"./dist/bundle.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="webpack-Config"><a href="#webpack-Config" class="headerlink" title="webpack Config"></a>webpack Config</h2><h3 id="npm-init"><a href="#npm-init" class="headerlink" title="npm init"></a>npm init</h3><p>生成 package.json (about pakage info)</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"meetwebpack"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="attr">"build"</span>: <span class="string">"webpack"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"tadm"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="comment">// 开发时依赖</span></span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"webpack"</span>: <span class="string">"^3.6.0"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Create-webpack-config-js"><a href="#Create-webpack-config-js" class="headerlink" title="Create webpack.config.js"></a>Create webpack.config.js</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),	<span class="comment">//	绝对路径</span></span><br><span class="line">    filename: <span class="string">'bundle.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接着 npm run build 即可完成打包</p><h3 id="注意-3"><a href="#注意-3" class="headerlink" title="注意"></a>注意</h3><p>package.json中的scripts的脚本在执行时，会按照一定的顺序寻找命令对应的位置。<br>首先，会寻找本地的node_modules/.bin路径中对应的命令。<br>如果没有找到，会去全局的环境变量中寻找</p><h2 id="loader-webpack转换某些类型的模块-一个转换器"><a href="#loader-webpack转换某些类型的模块-一个转换器" class="headerlink" title="loader(webpack转换某些类型的模块,一个转换器)"></a>loader(webpack转换某些类型的模块,一个转换器)</h2><p>Documention: <a href="https://www.webpackjs.com/loaders/" target="_blank" rel="noopener">https://www.webpackjs.com/loaders/</a></p><h3 id="Install-css-loader-amp-amp-style-loader为例"><a href="#Install-css-loader-amp-amp-style-loader为例" class="headerlink" title="Install(css-loader &amp;&amp; style-loader为例)"></a>Install(css-loader &amp;&amp; style-loader为例)</h3><p>style-loader 将模块的导出作为样式添加到 DOM 中<br>css-loader 解析 CSS 文件后，使用 import 加载，并且返回 CSS 代码<br>url-loader 像 file loader 一样工作，但如果文件小于限制，可以返回 data URL</p><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">cnpm install --save-dev css-loader</span><br><span class="line">cnpm install style-loader --save-dev</span><br><span class="line">cnpm install --save-dev url-loader</span><br><span class="line">cnpm install --save-dev file-loader</span><br><span class="line">cnpm install --save-dev babel-loader@<span class="number">7</span> babel-core babel-preset-es2015</span><br></pre></td></tr></table></figure><h3 id="Use-css-loader-amp-amp-style-loader"><a href="#Use-css-loader-amp-amp-style-loader" class="headerlink" title="Use css-loader &amp;&amp; style-loader"></a>Use css-loader &amp;&amp; style-loader</h3><p>将css加入依赖并配置webpack.config.js</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> css <span class="keyword">from</span> <span class="string">'file.css'</span>;</span><br><span class="line"><span class="comment">// 3.依赖css文件</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'./css/normal.css'</span>)</span><br><span class="line"><span class="built_in">require</span>(<span class="string">'./css/back.less'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> img <span class="keyword">from</span> <span class="string">'./image.png'</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),	<span class="comment">//	绝对路径</span></span><br><span class="line">    filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">    publicPath: <span class="string">'dist/'</span>		<span class="comment">//	使利用url-loader加载的文件打包到dist下,不加webpack会将生成的路径直接返回给使用者</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,	<span class="comment">//	以.css结尾的文件</span></span><br><span class="line">        <span class="comment">// 使用多个loader时, 是从右向左的顺序</span></span><br><span class="line">        use: [ <span class="string">'style-loader'</span>, <span class="string">'css-loader'</span> ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        use: [&#123;</span><br><span class="line">          loader: <span class="string">"style-loader"</span>, <span class="comment">// creates style nodes from JS strings</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          loader: <span class="string">"css-loader"</span> <span class="comment">// translates CSS into CommonJS</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          loader: <span class="string">"less-loader"</span>, <span class="comment">// compiles Less to CSS</span></span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|gif)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'url-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">            	<span class="comment">// 当加载的图片, 小于limit时, 会将图片编译成base64字符串形式.</span></span><br><span class="line">              <span class="comment">// 当加载的图片, 大于limit时, 需要使用file-loader模块进行加载.</span></span><br><span class="line">              limit: <span class="number">8192</span>,</span><br><span class="line">       				<span class="comment">// img：文件要打包到的文件夹</span></span><br><span class="line">							<span class="comment">// name：获取图片原来的名字，放在该位置</span></span><br><span class="line">							<span class="comment">// hash:8：为了防止图片名称冲突，依然使用hash，但是我们只保留8位</span></span><br><span class="line">							<span class="comment">// ext：使用图片原来的扩展名</span></span><br><span class="line">              name: <span class="string">'img/[name].[hash:8].[ext]'</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">	      test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">	      exclude: <span class="regexp">/(node_modules|bower_components)/</span>,</span><br><span class="line">	      use: &#123;</span><br><span class="line">	        loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">	        options: &#123;</span><br><span class="line">	          presets: [<span class="string">'@babel/preset-env'</span>]</span><br><span class="line">	        &#125;</span><br><span class="line">	      &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Plugin-对webpack本身的扩展-一个扩展器"><a href="#Plugin-对webpack本身的扩展-一个扩展器" class="headerlink" title="Plugin(对webpack本身的扩展,一个扩展器)"></a>Plugin(对webpack本身的扩展,一个扩展器)</h2><h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><p>步骤一：通过npm安装需要使用的plugins(某些webpack已经内置的插件不需要安装)<br>步骤二：在webpack.config.js中的plugins中配置插件</p><h3 id="内置插件实例"><a href="#内置插件实例" class="headerlink" title="内置插件实例"></a>内置插件实例</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">'最终版权归Tadm所有'</span>)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>Result:在bundle.js文件头部生成对应版权信息</p><h3 id="新装插件"><a href="#新装插件" class="headerlink" title="新装插件"></a>新装插件</h3><h4 id="html打包"><a href="#html打包" class="headerlink" title="html打包"></a>html打包</h4><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">cnpm install html-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"><span class="comment">// 此时不再需要 publicPath: 'dist/'</span></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">    template: <span class="string">'index.html'</span></span><br><span class="line">  &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="JS压缩-打包时"><a href="#JS压缩-打包时" class="headerlink" title="JS压缩(打包时)"></a>JS压缩(打包时)</h4><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">&lt;!-- 指定版本与 vue-cli 保持一致 --&gt;</span><br><span class="line">cnpm install uglifyjs-webpack-plugin@<span class="number">1</span>.<span class="number">1</span>.<span class="number">1</span> --save-dev</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> UglifyjsWebpackPlugin = <span class="built_in">require</span>(<span class="string">'uglifyjs-webpack-plugin'</span>)</span><br><span class="line"><span class="comment">// 此时不再需要 publicPath: 'dist/'</span></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> UglifyjsWebpackPlugin()</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="Webpack-Config-Vue"><a href="#Webpack-Config-Vue" class="headerlink" title="Webpack Config Vue"></a>Webpack Config Vue</h2><h3 id="Install-1"><a href="#Install-1" class="headerlink" title="Install"></a>Install</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">cnpm install vue --save</span><br><span class="line">&lt;!-- 加 'dev' 是开发时依赖，正式打包运行时不需要,但是若要开发和运行时都使用则用 '--save' --&gt;</span><br></pre></td></tr></table></figure><h3 id="Primary-Use"><a href="#Primary-Use" class="headerlink" title="Primary Use"></a>Primary Use</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	el: <span class="string">'#app'</span>,</span><br><span class="line">	data: &#123; ... &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span>&#123;&#123; ... &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="maybe-some-errors"><a href="#maybe-some-errors" class="headerlink" title="maybe some errors"></a>maybe some errors</h3><p>Vue 构建版本 runtime-only(不解析template[vue实例就是一个template]) 和 runtime-compiler<br>Resolve: add something in webpack.config.js</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line">resolve: &#123;</span><br><span class="line">	alias: &#123;</span><br><span class="line">		<span class="comment">// alias: 别名</span></span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'.css'</span>, <span class="string">'.vue'</span>],</span><br><span class="line">		<span class="string">'vue$'</span>: <span class="string">'vue/dist/vue.esm.js'</span>	<span class="comment">//	构建版本指定为runtime-compiler</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Ultimate-Use"><a href="#Ultimate-Use" class="headerlink" title="Ultimate Use"></a>Ultimate Use</h3><h4 id="Install-vue-loader-解析-vue文件"><a href="#Install-vue-loader-解析-vue文件" class="headerlink" title="Install vue-loader(解析.vue文件)"></a>Install vue-loader(解析.vue文件)</h4><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">cnpm install vue-loader vue-template-compiler --save-dev</span><br></pre></td></tr></table></figure><h4 id="Use"><a href="#Use" class="headerlink" title="Use"></a>Use</h4><p>add something in webpack.config.js</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">	rules: [</span><br><span class="line">		&#123;</span><br><span class="line">      test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">      use: [<span class="string">'vue-loader'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dist/bundle.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./vue/App.vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">  	<span class="comment">// 注册App组件</span></span><br><span class="line">    App</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- App.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2 class&#x3D;&quot;title&quot;&gt;&#123;&#123; message &#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;btnClick&quot;&gt;按钮&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123; name &#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;Cpn&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	&lt;!-- 再导入Cpn作为子组件,此处定义略 --&gt;</span><br><span class="line">  import Cpn from &#39;.&#x2F;Cpn&#39;</span><br><span class="line"></span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;App&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        message: &#39;Hello Webpack in Vue&#39;,</span><br><span class="line">        name: &#39;tadm&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      btnClick() &#123; doSomething &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">    	Cpn</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .title &#123;</span><br><span class="line">    color: aqua;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><h2 id="webpack-搭建本地服务器"><a href="#webpack-搭建本地服务器" class="headerlink" title="webpack 搭建本地服务器"></a>webpack 搭建本地服务器</h2><h3 id="Install-2"><a href="#Install-2" class="headerlink" title="Install"></a>Install</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">cnpm install --save-dev webpack-dev-server@<span class="number">2</span>.<span class="number">9</span>.<span class="number">1</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">	devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">'./dist'</span>,	<span class="comment">//	默认 根文件夹</span></span><br><span class="line">    port: <span class="number">8000</span>,		<span class="comment">//	默认 8080</span></span><br><span class="line">    inline: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line">"scripts": &#123;</span><br><span class="line">    "dev": "webpack-dev-server --open"</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="webpack-配置文件分离"><a href="#webpack-配置文件分离" class="headerlink" title="webpack 配置文件分离"></a>webpack 配置文件分离</h2><h3 id="base-config-js"><a href="#base-config-js" class="headerlink" title="base.config.js"></a>base.config.js</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"><span class="keyword">const</span> UglifyjsWebpackPlugin = <span class="built_in">require</span>(<span class="string">'uglifyjs-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">  	<span class="comment">// 此时配置文件路径发生变化需要重新配置</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'../dist'</span>),</span><br><span class="line">    filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">    <span class="comment">// publicPath: 'dist/'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// 使用多个loader时, 是从右向左</span></span><br><span class="line">        use: [ <span class="string">'style-loader'</span>, <span class="string">'css-loader'</span> ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        use: [&#123;</span><br><span class="line">          loader: <span class="string">"style-loader"</span>, <span class="comment">// creates style nodes from JS strings</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          loader: <span class="string">"css-loader"</span> <span class="comment">// translates CSS into CommonJS</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          loader: <span class="string">"less-loader"</span>, <span class="comment">// compiles Less to CSS</span></span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|gif|jpeg)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'url-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              <span class="comment">// 当加载的图片, 小于limit时, 会将图片编译成base64字符串形式.</span></span><br><span class="line">              <span class="comment">// 当加载的图片, 大于limit时, 需要使用file-loader模块进行加载.</span></span><br><span class="line">              limit: <span class="number">13000</span>,</span><br><span class="line">              name: <span class="string">'img/[name].[hash:8].[ext]'</span></span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/(node_modules|bower_components)/</span>,</span><br><span class="line">        use: &#123;</span><br><span class="line">          loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">          options: &#123;</span><br><span class="line">            presets: [<span class="string">'es2015'</span>]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        use: [<span class="string">'vue-loader'</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    <span class="comment">// alias: 别名</span></span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'.css'</span>, <span class="string">'.vue'</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">'vue$'</span>: <span class="string">'vue/dist/vue.esm.js'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">'最终版权归Tadm所有'</span>),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: <span class="string">'index.html'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="dev-config-js"><a href="#dev-config-js" class="headerlink" title="dev.config.js"></a>dev.config.js</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> webpackMerge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>)</span><br><span class="line"><span class="keyword">const</span> baseConfig = <span class="built_in">require</span>(<span class="string">'./base.config'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = webpackMerge(baseConfig, &#123;</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">'./dist'</span>,</span><br><span class="line">    inline: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="pro-config-js"><a href="#pro-config-js" class="headerlink" title="pro.config.js"></a>pro.config.js</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> UglifyjsWebpackPlugin = <span class="built_in">require</span>(<span class="string">'uglifyjs-webpack-plugin'</span>)</span><br><span class="line"><span class="keyword">const</span> webpackMerge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>)</span><br><span class="line"><span class="keyword">const</span> baseConfig = <span class="built_in">require</span>(<span class="string">'./base.config'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = webpackMerge(baseConfig, &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> UglifyjsWebpackPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">	<span class="comment">// 默认以 webpack.config.js 作为配置文件所以需要重新指定配置文件</span></span><br><span class="line">  "build": "webpack --config ./build/prod.config.js",</span><br><span class="line">  "dev": "webpack-dev-server --open --config ./build/dev.config.js"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="基础文件与开发配置文件或者生产配置文件合并"><a href="#基础文件与开发配置文件或者生产配置文件合并" class="headerlink" title="基础文件与开发配置文件或者生产配置文件合并"></a>基础文件与开发配置文件或者生产配置文件合并</h3><p>webpack-merge(‘./baseConfigFile’,{ devConfig/proConfig })</p><h1 id="Vue-Cli-脚手架"><a href="#Vue-Cli-脚手架" class="headerlink" title="Vue-Cli 脚手架"></a>Vue-Cli 脚手架</h1><h2 id="Runtime-Compiler和Runtime-only的区别-理解原理"><a href="#Runtime-Compiler和Runtime-only的区别-理解原理" class="headerlink" title="Runtime-Compiler和Runtime-only的区别(理解原理)"></a>Runtime-Compiler和Runtime-only的区别(理解原理)</h2><h3 id="简单总结"><a href="#简单总结" class="headerlink" title="简单总结"></a>简单总结</h3><ul><li>如果在之后的开发中，依然使用template，就需要选择Runtime-Compiler</li><li>如果你之后的开发中，使用的是.vue文件开发，那么可以选择Runtime-only</li></ul><h3 id="Vue-解析运行过程"><a href="#Vue-解析运行过程" class="headerlink" title="Vue 解析运行过程"></a>Vue 解析运行过程</h3><p><img src="https://i.loli.net/2020/01/17/s4YWQKXtPAN25VR.png" alt="Vue 解析运行过程"></p><ul><li><p>parse—解析</p></li><li><p>ast—abstract syntax tree—抽象语法树</p></li><li><p>compile—编译</p></li><li><p>runtime-compiler(v1)</p><ul><li>template -&gt; ast -&gt; render -&gt; virtual Dom -&gt; UI</li></ul></li><li><p>runtime-only(v2)(lighter)(1.性能更高 2.下面的代码量更少)</p><ul><li>render -&gt; vdom -&gt; UI</li></ul></li></ul><h3 id="Example-14"><a href="#Example-14" class="headerlink" title="Example"></a>Example</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 	main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 	runtime-compiler</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span>,</span><br><span class="line">  components: &#123; App &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 	runtime-only</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">h</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h(App)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="render-函数使用"><a href="#render-函数使用" class="headerlink" title="render 函数使用"></a>render 函数使用</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(App)	<span class="comment">//	App content(include render)</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1.普通用法: createElement('标签', &#123;标签的属性&#125;(可选), ['内容数组'])</span></span><br><span class="line">    <span class="keyword">return</span> createElement(<span class="string">'h2'</span>,</span><br><span class="line">      &#123;<span class="attr">class</span>: <span class="string">'box'</span>&#125;,</span><br><span class="line">      [<span class="string">'Hello World'</span>, createElement(<span class="string">'button'</span>, [<span class="string">'按钮'</span>])])</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.传入组件对象:</span></span><br><span class="line">    <span class="keyword">return</span> createElement(App)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">h</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h(App)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//  Lastest</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure><h3 id="Explanation-10"><a href="#Explanation-10" class="headerlink" title="Explanation"></a>Explanation</h3><p>Runtime-only 比 Runtime-Compiler 省掉了template –&gt; ast –&gt; render<br>App.vue 文件中的 template 是由(“vue-template-compiler”: “^2.5.2”) 所编译(可参照前文vue文件的解析)</p><h2 id="Install-amp-amp-Create"><a href="#Install-amp-amp-Create" class="headerlink" title="Install &amp;&amp; Create"></a>Install &amp;&amp; Create</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">cnpm install -g @vue/cli</span><br><span class="line"></span><br><span class="line">&lt;!-- 命令行 --&gt;</span><br><span class="line">vue create my-vue-cli</span><br><span class="line"></span><br><span class="line">&lt;!-- web ui 配置 --&gt;</span><br><span class="line">vue ui</span><br></pre></td></tr></table></figure><p><a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create" target="_blank" rel="noopener">https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create</a></p><h2 id="Args-Explanation"><a href="#Args-Explanation" class="headerlink" title="Args Explanation"></a>Args Explanation</h2><p><img src="https://i.loli.net/2020/01/17/eQRZyhjOYG75L8l.png" alt="Args Explanation"></p><h2 id="Directory-Structure"><a href="#Directory-Structure" class="headerlink" title="Directory Structure"></a>Directory Structure</h2><p><img src="https://i.loli.net/2020/01/17/yrxBNFDklQwnvUa.png" alt="Directory Structure"></p><h2 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h2><ul><li>新版 vue-cli 已经省略掉配置文件夹(争取0配置)<ul><li>若需要查看配置则可进入 node_modules/@vue/cli-service 来浏览</li><li>若需要添加更改配置,则在根目录添加 vue.config.js 文件进行相应配置</li></ul></li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123; &#125;</span><br></pre></td></tr></table></figure><h2 id="Use-1"><a href="#Use-1" class="headerlink" title="Use"></a>Use</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm run serve</span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure><h1 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h1><h2 id="Use-2"><a href="#Use-2" class="headerlink" title="Use"></a>Use</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1.1.无参</span></span><br><span class="line"><span class="keyword">const</span> demo = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello Demo'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.2.放入一个参数</span></span><br><span class="line"><span class="keyword">const</span> power = <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> num * num</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.3.放入两个参数或者多个</span></span><br><span class="line"><span class="keyword">const</span> sum = <span class="function">(<span class="params">num1, num2, ...</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2 + ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.1.函数代码块中只有一行代码</span></span><br><span class="line"><span class="keyword">const</span> mul = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> num1 * num2</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.2.函数代码块中有多行代码时</span></span><br><span class="line"><span class="keyword">const</span> test = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello World'</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello Vuejs'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> demo = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Hello Demo'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(demo());	<span class="comment">//	undefined</span></span><br></pre></td></tr></table></figure><h2 id="箭头函数—this"><a href="#箭头函数—this" class="headerlink" title="箭头函数—this"></a>箭头函数—this</h2><p>本身无this,所以需要向外层作用域中, 一层层查找this, 直到有this的定义.</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);	<span class="comment">// window</span></span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>--&gt;<span class="built_in">window</span></span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);	<span class="comment">// window</span></span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  aaa() &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// window</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// obj对象</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.aaa()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  aaa() &#123;</span><br><span class="line">  	<span class="comment">// setTimeout 第一个是要执行的代码或函数,第二个是延迟的时间.</span></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// window</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// window</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// window</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// obj</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="注意-4"><a href="#注意-4" class="headerlink" title="注意"></a>注意</h2><blockquote><p>setTimeout中延迟执行函数中的this,永远指向window(setTimeout中箭头函数上面已经讲述)<br>超时调用的代码都是在全局作用域中执行的，因此函数中this的值在非严格模式下指向window对象,在严格模式下是undefined</p></blockquote><p>javascript 事件执行顺序讲解：<a href="http://www.ruanyifeng.com/blog/2014/10/event-loop.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2014/10/event-loop.html</a></p><blockquote><p>setTimeout(fn,0)的含义是，指定某个任务在主线程最早可得的空闲时间执行，也就是说，尽可能早得执行。<br>它在”任务队列”的尾部添加一个事件(立即插入队列，但不是立即执行),因此要等到同步任务和”任务队列”现有的事件都处理完,才会得到执行。</p></blockquote><h1 id="Vue-Router"><a href="#Vue-Router" class="headerlink" title="Vue-Router"></a>Vue-Router</h1><p>Document: <a href="https://router.vuejs.org/zh/guide/#html" target="_blank" rel="noopener">https://router.vuejs.org/zh/guide/#html</a></p><h2 id="web路由发展"><a href="#web路由发展" class="headerlink" title="web路由发展"></a>web路由发展</h2><h3 id="后端路由"><a href="#后端路由" class="headerlink" title="后端路由"></a>后端路由</h3><p><img src="https://i.loli.net/2020/01/17/8sWwoECl2vD3Znz.png" alt="01-后端路由阶段.png"></p><h3 id="前后端分离"><a href="#前后端分离" class="headerlink" title="前后端分离"></a>前后端分离</h3><p><img src="https://i.loli.net/2020/01/17/Jy1RZNa9LvszdSV.png" alt="02-前端后端分离阶段.png"></p><h3 id="SPA页面"><a href="#SPA页面" class="headerlink" title="SPA页面"></a>SPA页面</h3><p><img src="https://i.loli.net/2020/01/17/ns2DKiv5kdaXOub.png" alt="03-SPA页面页面的阶段.png"></p><h3 id="前端路由"><a href="#前端路由" class="headerlink" title="前端路由"></a>前端路由</h3><p><img src="https://i.loli.net/2020/01/17/ym8Fg9a7eURWn6v.jpg" alt="04-前端路由中url和组件的关系.jpg"></p><h2 id="Hash-模式"><a href="#Hash-模式" class="headerlink" title="Hash 模式"></a>Hash 模式</h2><p>URL的hash也就是锚点(#), 本质上是改变window.location的href属性.(href—hyper reference)<br>我们可以通过直接赋值location.hash来改变href, 但是页面不发生刷新</p><h2 id="HTML5-History-模式-改变URL而不刷新页面"><a href="#HTML5-History-模式-改变URL而不刷新页面" class="headerlink" title="HTML5 History 模式(改变URL而不刷新页面)"></a>HTML5 History 模式(改变URL而不刷新页面)</h2><p>history.pushState()—(一个状态对象, 一个标题 (目前被忽略), 和 (可选的) 一个URL)<br>history.replaceState()<br>history.go()—(无参—refresh or 0 or 1 or -1)<br>history.back() 等价于 history.go(-1)<br>history.forward() 则等价于 history.go(1)</p><h2 id="Use-3"><a href="#Use-3" class="headerlink" title="Use"></a>Use</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//	router/index.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'../views/Home.vue'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/'</span>,</span><br><span class="line">    name: <span class="string">'home'</span>,</span><br><span class="line">    component: Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/about'</span>,</span><br><span class="line">    name: <span class="string">'about'</span>,</span><br><span class="line">    <span class="comment">// route level code-splitting</span></span><br><span class="line">    <span class="comment">// this generates a separate chunk (about.[hash].js) for this route</span></span><br><span class="line">    <span class="comment">// which is lazy-loaded when the route is visited.</span></span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "about" */</span> <span class="string">'../views/About.vue'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  mode: <span class="string">'history'</span>,	<span class="comment">//	or hash</span></span><br><span class="line">  base: process.env.BASE_URL,</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//	main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- Home.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;home&quot;&gt;</span><br><span class="line">    &lt;img alt&#x3D;&quot;Vue logo&quot; src&#x3D;&quot;..&#x2F;assets&#x2F;logo.png&quot;&gt;</span><br><span class="line">    &lt;HelloWorld msg&#x3D;&quot;Welcome to Your Vue.js App&quot;&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F; @ is an alias to &#x2F;src</span><br><span class="line">import HelloWorld from &#39;@&#x2F;components&#x2F;HelloWorld.vue&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;home&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HelloWorld</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- App.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;&quot;&gt;Home&lt;&#x2F;router-link&gt; |</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;about&quot;&gt;About&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;router-view&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scopped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><h2 id="router-link-属性"><a href="#router-link-属性" class="headerlink" title="router-link 属性"></a>router-link 属性</h2><p>Document: <a href="https://router.vuejs.org/zh/api/#to" target="_blank" rel="noopener">https://router.vuejs.org/zh/api/#to</a></p><ul><li>to: 用于指定跳转的路径.</li><li>tag: tag可以指定<router-link>之后渲染成什么组件(tag = ‘button’)</router-link></li><li>replace: replace不会留下history记录,后退键返回不能返回到上一个页面中</li><li>active-class: 当<router-link>对应的路由匹配成功时, 会自动给当前元素设置一个router-link-active的class, 设置active-class可以修改默认的名称</router-link></li></ul><p>如果需要所有router-link应用active class:</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  mode: <span class="string">'history'</span>,</span><br><span class="line">  base: process.env.BASE_URL,</span><br><span class="line">  linkActiveClass: <span class="string">'aqua'</span>,</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="路由跳转"><a href="#路由跳转" class="headerlink" title="路由跳转"></a>路由跳转</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$router.push(<span class="string">'/main'</span>)</span><br><span class="line"><span class="keyword">this</span>.$router.replace(<span class="string">'/main'</span>)</span><br></pre></td></tr></table></figure><h2 id="动态路由-拼接参数"><a href="#动态路由-拼接参数" class="headerlink" title="动态路由(拼接参数)"></a>动态路由(拼接参数)</h2><p>Document: <a href="https://router.vuejs.org/guide/essentials/dynamic-matching.html" target="_blank" rel="noopener">https://router.vuejs.org/guide/essentials/dynamic-matching.html</a></p><p><img src="https://i.loli.net/2020/01/18/s8XgniwQK7yzqHA.png" alt=""></p><h2 id="路由懒加载-访问才加载"><a href="#路由懒加载-访问才加载" class="headerlink" title="路由懒加载(访问才加载)"></a>路由懒加载(访问才加载)</h2><h3 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h3><p>避免所有JS文件都打包到app.bla.js中影响用户体验</p><h3 id="写法"><a href="#写法" class="headerlink" title="写法"></a>写法</h3><p>方式一: 结合Vue的异步组件和Webpack的代码分析.</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">resolve</span> =&gt;</span> &#123; </span><br><span class="line">	<span class="built_in">require</span>.ensure([<span class="string">'../components/Home.vue'</span>], () =&gt; &#123; resolve(<span class="built_in">require</span>(<span class="string">'../components/Home.vue'</span>)) &#125;)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>方式二: AMD写法</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> About = <span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">require</span>([<span class="string">'../components/About.vue'</span>], resolve);</span><br></pre></td></tr></table></figure><p>方式三: ES6写法(recommend)</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../components/Home.vue'</span>)</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/01/18/vd8tUAezZqmEh3u.png" alt="router-lazy-loader"></p><h2 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h2><p>Document: <a href="https://router.vuejs.org/zh/guide/essentials/nested-routes.html" target="_blank" rel="noopener">https://router.vuejs.org/zh/guide/essentials/nested-routes.html</a></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//	lazy-loader</span></span><br><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../components/Home'</span>)</span><br><span class="line"><span class="keyword">const</span> HomeNews = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../components/HomeNews'</span>)</span><br><span class="line"><span class="keyword">const</span> HomeMessage = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../components/HomeMessage'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">&#123;</span><br><span class="line">  path: <span class="string">''</span>,</span><br><span class="line">  <span class="comment">// redirect重定向</span></span><br><span class="line">  redirect: <span class="string">'/home'</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  path: <span class="string">'/home'</span>,</span><br><span class="line">  component: Home,</span><br><span class="line">  meta: &#123;</span><br><span class="line">    title: <span class="string">'首页'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  children: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">''</span>,</span><br><span class="line">      redirect: <span class="string">'news'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'news'</span>,</span><br><span class="line">      component: HomeNews</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'message'</span>,</span><br><span class="line">      component: HomeMessage</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;我是首页&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;p&gt;我是首页内容, 哈哈哈&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">    &lt;router-link to&#x3D;&quot;&#x2F;home&#x2F;news&quot;&gt;新闻&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;router-link to&#x3D;&quot;&#x2F;home&#x2F;message&quot;&gt;消息&lt;&#x2F;router-link&gt;</span><br><span class="line"></span><br><span class="line">    &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line"></span><br><span class="line">    &lt;h2&gt;&#123;&#123; message &#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure><h2 id="路由传递参数"><a href="#路由传递参数" class="headerlink" title="路由传递参数"></a>路由传递参数</h2><h3 id="Explanation-11"><a href="#Explanation-11" class="headerlink" title="Explanation"></a>Explanation</h3><ul><li>params (Object) (this.$route.params):</li></ul><p>配置路由格式: /router/:id<br>传递的方式: 在path后面跟上对应的值<br>传递后形成的路径: /router/123, /router/abc</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">v-bind:to</span>=<span class="string">"'/user/'+userId"</span>&gt;</span> user <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; this.$route.params &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>query (Object) (this.$route.query):</li></ul><p>配置路由格式: /router, 也就是普通配置<br>传递的方式: 对象中使用query的key作为传递方式<br>传递后形成的路径: /router?id=123, /router?id=abc</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">v-bind:to</span>=<span class="string">"&#123; path: '/profile/',query: &#123;name:'tadm',...&#125; &#125;"</span>&gt;</span> profile <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; this.$route.query &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">	name: <span class="string">'App'</span>,</span><br><span class="line">	methods: &#123;</span><br><span class="line">		toProfile() &#123;</span><br><span class="line">			<span class="keyword">this</span>.$router.push(&#123;</span><br><span class="line">				path: <span class="string">'/profile/'</span>,</span><br><span class="line">				query: &#123; <span class="attr">name</span>:<span class="string">'tadm'</span>,... &#125;</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="route-vs-router"><a href="#route-vs-router" class="headerlink" title="route vs router"></a>route vs router</h3><ul><li>$router为VueRouter实例，想要导航到不同URL，则使用$router.push方法</li><li>$route为当前router跳转对象里面可以获取name、path、query、params等</li></ul><h2 id="路由导航守卫"><a href="#路由导航守卫" class="headerlink" title="路由导航守卫"></a>路由导航守卫</h2><p>Document: <a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html" target="_blank" rel="noopener">https://router.vuejs.org/zh/guide/advanced/navigation-guards.html</a></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 前置守卫(guard)</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 从from跳转到to</span></span><br><span class="line">  <span class="built_in">document</span>.title = to.matched[<span class="number">0</span>].meta.title</span><br><span class="line">  <span class="comment">// console.log(to);</span></span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 后置钩子(hook)</span></span><br><span class="line">router.afterEach(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// console.log('----');</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="Keep-Alive"><a href="#Keep-Alive" class="headerlink" title="Keep-Alive"></a>Keep-Alive</h2><ul><li>keep-alive 是 Vue 内置的一个组件,可以使被包含的组件保留状态,或避免重新渲染(即不会在离开或者进入时频繁调用created/destoryed)<ul><li>include - 字符串或正则表达，只有匹配的组件会被缓存</li><li>exclude - 字符串或正则表达式，任何匹配的组件都不会被缓存</li></ul></li><li>router-view 也是一个组件，如果直接被包在 keep-alive 里面，所有路径匹配到的视图组件都会被缓存</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;keep-alive exclude=<span class="string">"Profile,User"</span>&gt;</span><br><span class="line">	&lt;router-view/&gt;</span><br><span class="line">&lt;<span class="regexp">/keep-alive&gt;</span></span><br></pre></td></tr></table></figure><p>下面两个函数(activated/deactivated), 只有该组件被保持了状态使用了keep-alive时, 才是有效的</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">activated() &#123;	<span class="comment">//	活跃</span></span><br><span class="line">  <span class="keyword">this</span>.$router.push(<span class="keyword">this</span>.path);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'activated'</span>);</span><br><span class="line">&#125;,</span><br><span class="line">deactivated() &#123;	<span class="comment">//	离开</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'deactivated'</span>);</span><br><span class="line">&#125;,	<span class="comment">//	记录离开前路由</span></span><br><span class="line">beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.$route.path);</span><br><span class="line">  <span class="keyword">this</span>.path = <span class="keyword">this</span>.$route.path;</span><br><span class="line">  next()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="TabBar-实例"><a href="#TabBar-实例" class="headerlink" title="TabBar 实例"></a>TabBar 实例</h1><p>Github: <a href="https://github.com/Liuhongwei3/TabBarExample" target="_blank" rel="noopener">https://github.com/Liuhongwei3/TabBarExample</a></p><h1 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h1><h2 id="Explanation-12"><a href="#Explanation-12" class="headerlink" title="Explanation"></a>Explanation</h2><p>Promise是异步编程的一种解决方案(太笼统了)<br><a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener">http://es6.ruanyifeng.com/#docs/promise</a></p><p>More(update: 2020年1月25日16:52:30)：</p><ol><li>Promise 是一个<strong>构造函数</strong>，既然是构造函数， 那么，我们就可以 new Promise() 得到一个 Promise 的实例；</li><li>在 Promise 上，有两个函数，分别叫做 resolve（成功之后的回调函数） 和 reject（失败之后的回调函数）</li><li>在 Promise 构造函数的 <strong>Prototype</strong> 属性上，有一个 <strong>.then()</strong> 方法，也就说，只要是 Promise 构造函数创建的实例，都可以访问到 .then() 方法</li><li>Promise 表示一个 异步操作；每当我们 new 一个 Promise 的实例，这个实例，就表示一个具体的异步操作；</li><li>既然 Promise 创建的实例，是一个异步操作，那么，这个 异步操作的结果，只能有两种状态：<br>5.1 状态1： 异步<strong>执行成功</strong>了，需要在内部调用 成功的回调函数 <strong>resolve</strong> 把结果返回给调用者；<br>5.2 状态2： 异步<strong>执行失败</strong>了，需要在内部调用 失败的回调函数 <strong>reject</strong> 把结果返回给调用者；<br>5.3 由于 Promise 的实例，是一个异步操作，所以，内部拿到 操作的结果后，无法使用 return 把操作的结果返回给调用者； 这时候，只能使用回调函数的形式，来把 成功 或 失败的结果，返回给调用者；</li><li>我们可以在 new 出来的 Promise 实例上，调用 .then() 方法，【预先】 为 这个 Promise 异步操作，指定 成功（resolve） 和 失败（reject） 回调函数；</li></ol><h2 id="Example-15"><a href="#Example-15" class="headerlink" title="Example"></a>Example</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 成功的时候调用resolve</span></span><br><span class="line">    resolve(<span class="string">'Hello World'</span>)</span><br><span class="line">    <span class="comment">// 失败的时候调用reject</span></span><br><span class="line">    <span class="comment">// reject('error message')</span></span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.100行的处理代码</span></span><br><span class="line">  <span class="built_in">console</span>.log(data);	<span class="comment">//	Hello World</span></span><br><span class="line">&#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);	<span class="comment">//	error message</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'Hello Vuejs'</span>)</span><br><span class="line">    <span class="comment">// reject('error message')</span></span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;, err =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="链式调用"><a href="#链式调用" class="headerlink" title="链式调用"></a>链式调用</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 参数 -&gt; 函数(resolve, reject)</span></span><br><span class="line"><span class="comment">// resolve, reject本身它们又是函数</span></span><br><span class="line"><span class="comment">// 链式编程</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'aaa'</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.自己处理10行代码</span></span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第一层的10行处理代码'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.对结果进行第一次处理</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    resolve(res + <span class="string">'111'</span>)</span><br><span class="line">    <span class="comment">// reject('err')</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第二层的10行处理代码'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(res + <span class="string">'222'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第三层的10行处理代码'</span>);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;   <span class="comment">// 捕获某一层抛出/发生的异常</span></span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// new Promise(resolve =&gt; resolve(结果))简写</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'aaa'</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.自己处理10行代码</span></span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第一层的10行处理代码'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.对结果进行第一次处理</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(res + <span class="string">'111'</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第二层的10行处理代码'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(res + <span class="string">'222'</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第三层的10行处理代码'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 省略掉Promise.resolve</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'aaa'</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.自己处理10行代码</span></span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第一层的10行处理代码'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.对结果进行第一次处理</span></span><br><span class="line">  <span class="keyword">return</span> res + <span class="string">'111'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第二层的10行处理代码'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res + <span class="string">'222'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第三层的10行处理代码'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'aaa'</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.自己处理10行代码</span></span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第一层的10行处理代码'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.对结果进行第一次处理</span></span><br><span class="line">  <span class="comment">// return Promise.reject('error message')</span></span><br><span class="line">  <span class="keyword">throw</span> <span class="string">'error message'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第二层的10行处理代码'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(res + <span class="string">'222'</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第三层的10行处理代码'</span>);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="all-method"><a href="#all-method" class="headerlink" title="all method"></a>all method</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.all([</span><br><span class="line">	<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(&#123;<span class="attr">name</span>: <span class="string">'why'</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(&#123;<span class="attr">name</span>: <span class="string">'kobe'</span>, <span class="attr">age</span>: <span class="number">19</span>&#125;)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">]).then(<span class="function"><span class="params">results</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(results); <span class="comment">//  Array</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="Async-await"><a href="#Async-await" class="headerlink" title="Async await"></a>Async await</h1><p>(update: 2020年1月25日16:44:54)<br>比较详细：<a href="https://segmentfault.com/a/1190000007535316#item-1" target="_blank" rel="noopener">https://segmentfault.com/a/1190000007535316#item-1</a></p><h1 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h1><p>Document: <a href="https://vuex.vuejs.org/zh/" target="_blank" rel="noopener">https://vuex.vuejs.org/zh/</a></p><h2 id="单页面状态管理"><a href="#单页面状态管理" class="headerlink" title="单页面状态管理"></a>单页面状态管理</h2><p><img src="https://vuex.vuejs.org/flow.png" alt=""></p><h3 id="Args"><a href="#Args" class="headerlink" title="Args"></a>Args</h3><ul><li>state，驱动应用的数据源；</li><li>view，以声明方式将 state 映射到视图；</li><li>actions，响应在 view 上的用户输入导致的状态变化。</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="comment">// state</span></span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      count: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// view</span></span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div&gt;&#123;&#123; count &#125;&#125;&lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  <span class="comment">// actions</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    increment () &#123;</span><br><span class="line">      <span class="keyword">this</span>.count++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="多页面状态管理"><a href="#多页面状态管理" class="headerlink" title="多页面状态管理"></a>多页面状态管理</h2><p><img src="https://vuex.vuejs.org/vuex.png" alt=""><br>单一状态树—&gt;一个项目对应一个 store</p><h3 id="state"><a href="#state" class="headerlink" title="state"></a>state</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">state: &#123;</span><br><span class="line">  count: <span class="number">0</span>,</span><br><span class="line">  students: [</span><br><span class="line">    &#123;<span class="attr">id</span>: <span class="number">110</span>, <span class="attr">name</span>: <span class="string">'why'</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>: <span class="number">111</span>, <span class="attr">name</span>: <span class="string">'kobe'</span>, <span class="attr">age</span>: <span class="number">24</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>: <span class="number">112</span>, <span class="attr">name</span>: <span class="string">'james'</span>, <span class="attr">age</span>: <span class="number">30</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>: <span class="number">113</span>, <span class="attr">name</span>: <span class="string">'curry'</span>, <span class="attr">age</span>: <span class="number">10</span>&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.$store.state.count 	<span class="comment">//	访问 state 中的 count</span></span><br></pre></td></tr></table></figure><h3 id="getters-as-computed-数据需要做处理再返回给组件使用"><a href="#getters-as-computed-数据需要做处理再返回给组件使用" class="headerlink" title="getters(as computed 数据需要做处理再返回给组件使用)"></a>getters(as computed 数据需要做处理再返回给组件使用)</h3><blockquote><p>Getter 接受 state 作为其第一个参数,也可以接受其他 getter 作为第二个参数,也可以通过让 getter 返回一个函数，来实现给 getter 传参:</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">	more20stu(state) &#123;</span><br><span class="line">    <span class="keyword">return</span> state.students.filter(<span class="function"><span class="params">s</span> =&gt;</span> s.age &gt; <span class="number">20</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//  利用 getters 中已处理的数据进行再加工</span></span><br><span class="line">  more20stuLength(state, getters) &#123;</span><br><span class="line">    <span class="keyword">return</span> getters.more20stu.length</span><br><span class="line">    <span class="comment">//  Of course but not recommand</span></span><br><span class="line">    <span class="comment">//  return state.students.filter(s =&gt; s.age &gt; 20).length</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 	传参(需要返回一个函数进行处理)</span></span><br><span class="line">  moreAgeStu(state) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">age</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> state.students.filter(<span class="function"><span class="params">s</span> =&gt;</span> s.age &gt; age)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// return age =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//   return state.students.filter(s =&gt; s.age &gt; age)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.$store.getters.more20stu</span><br><span class="line"><span class="keyword">this</span>.$store.getters.more20stuLength</span><br><span class="line"><span class="keyword">this</span>.$store.getters.moreAgeStu(<span class="number">12</span>)</span><br></pre></td></tr></table></figure><h3 id="mutations-状态更新"><a href="#mutations-状态更新" class="headerlink" title="mutations(状态更新)"></a>mutations(状态更新)</h3><blockquote><p>更改 Vuex 的 store 中的状态的唯一方法是提交 mutation<br>Vuex 中的 mutation 非常类似于事件：每个 mutation 都有一个字符串的 事件类型 (type) 和 一个 回调函数 (handler);这个回调函数就是我们实际进行状态更改的地方，并且它会接受 state 作为第一个参数：</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">  increment (state) &#123;</span><br><span class="line">    <span class="comment">// 变更状态</span></span><br><span class="line">    state.count++</span><br><span class="line">  &#125;,</span><br><span class="line">  incrementCount(state, count) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(count);</span><br><span class="line">    state.count += count</span><br><span class="line">  &#125;,</span><br><span class="line">  incrementCount(state, payload) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(payload);  <span class="comment">//		Object</span></span><br><span class="line">    state.count += payload.count</span><br><span class="line">  &#125;,</span><br><span class="line">  addStudent(state, stu) &#123;</span><br><span class="line">    state.students.push(stu)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  addition() &#123;</span><br><span class="line">    <span class="keyword">this</span>.$store.commit(increment)</span><br><span class="line">  &#125;,</span><br><span class="line">  addCount(count) &#123;</span><br><span class="line">    <span class="comment">// payload: 负载</span></span><br><span class="line">    <span class="comment">// 1.普通的提交封装</span></span><br><span class="line">    <span class="keyword">this</span>.$store.commit(<span class="string">'incrementCount'</span>, count)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.特殊的提交封装</span></span><br><span class="line">    <span class="keyword">this</span>.$store.commit(<span class="string">'incrementCount'</span>, &#123;</span><br><span class="line">		  count: <span class="number">10</span></span><br><span class="line">		&#125;)</span><br><span class="line">    <span class="keyword">this</span>.$store.commit(&#123;</span><br><span class="line">      type: <span class="string">'incrementCount'</span>,</span><br><span class="line">      count</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  addStudent() &#123;</span><br><span class="line">    <span class="keyword">const</span> stu = &#123; <span class="attr">id</span>: <span class="number">114</span>, <span class="attr">name</span>: <span class="string">'alan'</span>, <span class="attr">age</span>: <span class="number">28</span> &#125;</span><br><span class="line">    <span class="keyword">this</span>.$store.commit(<span class="string">'addStudent'</span>, stu)</span><br><span class="line">  &#125;,</span><br><span class="line">  updateInfo(state) &#123;</span><br><span class="line">    state.info.name = <span class="string">'tadm'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;h2&gt;&#123;&#123; $store.state.count &#125;&#125;&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">&lt;button @click="addition"&gt;+&lt;/</span>button&gt;</span><br><span class="line">&lt;button @click=<span class="string">"addCount(5)"</span>&gt;+<span class="number">5</span>&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;button @click="addStudent"&gt;Add Student&lt;/</span>button&gt;</span><br></pre></td></tr></table></figure><ul><li>一条重要的原则就是要记住 mutation 必须是同步函数(异步会使得devtools无法正常跟踪)</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">	asyncUpdate(state, payload)&#123;</span><br><span class="line">		setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">			state.info = &#123; ...state.info, <span class="string">'name'</span>: payload.name &#125;</span><br><span class="line">		&#125;, <span class="number">1000</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Mutation 需遵守 Vue 的响应规则:<ul><li>既然 Vuex 的 store 中的状态是响应式的，那么当我们变更状态时，监视状态的 Vue 组件也会自动更新。</li><li>最好提前在你的 store 中初始化好所有所需属性。</li><li>当需要在对象上添加新属性时，你应该使用 <code>Vue.set(obj, &#39;newProp&#39;, 123)</code>, 或者以新对象替换老对象。例如，利用对象展开运算符我们可以这样写：</li></ul></li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">state.obj = &#123; ...state.obj, <span class="attr">newProp</span>: <span class="number">123</span> &#125;</span><br></pre></td></tr></table></figure><blockquote><p>mutation 常量类型</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> INCREMENT = <span class="string">'increment'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; INCREMENT &#125; <span class="keyword">from</span> <span class="string">"./mutations-types"</span>;</span><br><span class="line">mutations: &#123;</span><br><span class="line">	[INCREMENT](state) &#123;</span><br><span class="line">    state.counter++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">addition() &#123;</span><br><span class="line">  <span class="keyword">this</span>.$store.commit(INCREMENT)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="actions"><a href="#actions" class="headerlink" title="actions"></a>actions</h3><blockquote><p>Action 类似于Mutation, 但是是用来代替Mutation进行异步操作<br>Action 提交的是 mutation，而不是直接变更状态。</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">	increment (context) &#123;</span><br><span class="line">    context.commit(<span class="string">'increment'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.$store.dispatch(<span class="string">'increment'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Actions.js</span></span><br><span class="line">aUpdateInfo(context, payload) &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    context.commit(<span class="string">'updateInfo'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(payload.message);</span><br><span class="line">    payload.success()</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;,</span><br><span class="line">aUpdateInfo(context, payload) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      context.commit(<span class="string">'updateInfo'</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(payload);</span><br><span class="line"></span><br><span class="line">      resolve(<span class="string">'1111111'</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">methods:&#123;</span><br><span class="line">	updateInfo() &#123;</span><br><span class="line">	  <span class="keyword">this</span>.$store.dispatch(<span class="string">'aUpdateInfo'</span>, &#123;</span><br><span class="line">	    message: <span class="string">'我是携带的信息'</span>,</span><br><span class="line">	    success: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">	      <span class="built_in">console</span>.log(<span class="string">'里面已经完成了'</span>);</span><br><span class="line">	    &#125;</span><br><span class="line">	  &#125;)</span><br><span class="line">	  <span class="keyword">this</span>.$store</span><br><span class="line">	    .dispatch(<span class="string">'aUpdateInfo'</span>, <span class="string">'我是携带的信息'</span>)</span><br><span class="line">	    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">	      <span class="built_in">console</span>.log(<span class="string">'里面完成了提交'</span>);</span><br><span class="line">	      <span class="built_in">console</span>.log(res);</span><br><span class="line">	    &#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Action 函数接受一个与 store 实例具有相同方法和属性的 context 对象，因此你可以调用 context.commit 提交一个 mutation，或者通过 context.state 和 context.getters 来获取 state 和 getters</p><h3 id="modules"><a href="#modules" class="headerlink" title="modules"></a>modules</h3><p>Document: <a href="https://vuex.vuejs.org/zh/guide/modules.html" target="_blank" rel="noopener">https://vuex.vuejs.org/zh/guide/modules.html</a></p><p>由于使用单一状态树，应用的所有状态会集中到一个比较大的对象。当应用变得非常复杂时，store 对象就有可能变得相当臃肿。<br>为了解决以上问题，Vuex 允许我们将 store 分割成模块（module）。每个模块拥有自己的 state、mutation、action、getter、甚至是嵌套子模块——从上至下进行同样方式的分割</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  getters: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moduleB = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">	state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters,</span><br><span class="line">  modules: &#123;</span><br><span class="line">    a: moduleA,</span><br><span class="line">    b: moduleB</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.state.a <span class="comment">// -&gt; moduleA 的状态</span></span><br><span class="line">store.state.b <span class="comment">// -&gt; moduleB 的状态</span></span><br><span class="line"></span><br><span class="line">getters/mutations 依然是通过 <span class="keyword">this</span>.$store 来调用(use 局部 state)</span><br><span class="line"><span class="comment">// 模块内部的 getter，根节点状态会作为第三个参数暴露出来(rootState)</span></span><br><span class="line">getters: &#123;</span><br><span class="line">  sumWithRootCount (state, getters, rootState) &#123;</span><br><span class="line">    <span class="keyword">return</span> state.count + rootState.count</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Actions </span><br><span class="line"><span class="comment">//	局部状态通过 context.state 暴露出来，根节点状态则为 context.rootState</span></span><br><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  actions: &#123;</span><br><span class="line">  	<span class="comment">// 	ES6 解构赋值：&#123; state, commit, rootState &#125; = context</span></span><br><span class="line">    incrementIfOddOnRootSum (&#123; state, commit, rootState &#125;) &#123;</span><br><span class="line">      <span class="keyword">if</span> ((state.count + rootState.count) % <span class="number">2</span> === <span class="number">1</span>) &#123;</span><br><span class="line">        commit(<span class="string">'increment'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>当 vuex 中内容过多我们可以选择将 state/getters/mutations 等抽取成单独的 js 文件 export default 再 import 放入 store 对象中并挂载到实例中</p></blockquote><h1 id="变量解构赋值"><a href="#变量解构赋值" class="headerlink" title="变量解构赋值"></a>变量解构赋值</h1><p>Document: <a href="http://es6.ruanyifeng.com/#docs/destructuring" target="_blank" rel="noopener">http://es6.ruanyifeng.com/#docs/destructuring</a></p><h1 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h1><p>Document: <a href="http://www.axios-js.com/zh-cn/docs/" target="_blank" rel="noopener">http://www.axios-js.com/zh-cn/docs/</a></p><h2 id="axios的基本使用"><a href="#axios的基本使用" class="headerlink" title="axios的基本使用"></a>axios的基本使用</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line">axios(&#123;</span><br><span class="line">  url: <span class="string">'http://123.207.32.32:8000/home/multidata'</span>,</span><br><span class="line">  <span class="comment">// method: 'post'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">axios(&#123;</span><br><span class="line">  url: <span class="string">'http://123.207.32.32:8000/home/data'</span>,</span><br><span class="line">  <span class="comment">// 专门针对get请求的参数拼接</span></span><br><span class="line">  params: &#123;</span><br><span class="line">    type: <span class="string">'pop'</span>,</span><br><span class="line">    page: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="axios发送并发请求"><a href="#axios发送并发请求" class="headerlink" title="axios发送并发请求"></a>axios发送并发请求</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">axios.all([axios(&#123;</span><br><span class="line">  url: <span class="string">'http://123.207.32.32:8000/home/multidata'</span></span><br><span class="line">&#125;), axios(&#123;</span><br><span class="line">  url: <span class="string">'http://123.207.32.32:8000/home/data'</span>,</span><br><span class="line">  params: &#123;</span><br><span class="line">    type: <span class="string">'sell'</span>,</span><br><span class="line">    page: <span class="number">5</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)]).then(<span class="function"><span class="params">results</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(results);</span><br><span class="line">  <span class="built_in">console</span>.log(results[<span class="number">0</span>]);</span><br><span class="line">  <span class="built_in">console</span>.log(results[<span class="number">1</span>]);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="使用全局的axios和对应的配置在进行网络请求"><a href="#使用全局的axios和对应的配置在进行网络请求" class="headerlink" title="使用全局的axios和对应的配置在进行网络请求"></a>使用全局的axios和对应的配置在进行网络请求</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">axios.defaults.baseURL = <span class="string">'http://123.207.32.32:8000'</span></span><br><span class="line">axios.defaults.timeout = <span class="number">5000</span></span><br><span class="line"></span><br><span class="line">axios.all([axios(&#123;</span><br><span class="line">  url: <span class="string">'/home/multidata'</span></span><br><span class="line">&#125;), axios(&#123;</span><br><span class="line">  url: <span class="string">'/home/data'</span>,</span><br><span class="line">  params: &#123;</span><br><span class="line">    type: <span class="string">'sell'</span>,</span><br><span class="line">    page: <span class="number">5</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)]).then(axios.spread(<span class="function">(<span class="params">res1, res2</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res1);</span><br><span class="line">  <span class="built_in">console</span>.log(res2);</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure><h2 id="创建对应的axios的实例"><a href="#创建对应的axios的实例" class="headerlink" title="创建对应的axios的实例"></a>创建对应的axios的实例</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> instance1 = axios.create(&#123;</span><br><span class="line">  baseURL: <span class="string">'http://123.207.32.32:8000'</span>,</span><br><span class="line">  timeout: <span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">instance1(&#123;</span><br><span class="line">  url: <span class="string">'/home/multidata'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">instance1(&#123;</span><br><span class="line">  url: <span class="string">'/home/data'</span>,</span><br><span class="line">  params: &#123;</span><br><span class="line">    type: <span class="string">'pop'</span>,</span><br><span class="line">    page: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance2 = axios.create(&#123;</span><br><span class="line">  baseURL: <span class="string">'http://222.111.33.33:8000'</span>,</span><br><span class="line">  timeout: <span class="number">10000</span>,</span><br><span class="line">  <span class="comment">// headers: &#123;&#125;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="封装request模块"><a href="#封装request模块" class="headerlink" title="封装request模块"></a>封装request模块</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 1.创建axios的实例</span></span><br><span class="line">    <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">      baseURL: <span class="string">'http://123.207.32.32:8000'</span>,</span><br><span class="line">      timeout: <span class="number">5000</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 发送真正的网络请求</span></span><br><span class="line">    instance(config)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        resolve(res)</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1.创建axios的实例</span></span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseURL: <span class="string">'http://123.207.32.32:8000'</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 发送真正的网络请求</span></span><br><span class="line">  instance(config.baseConfig)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(res);</span></span><br><span class="line">      config.success(res);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(err);</span></span><br><span class="line">      config.failure(err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config, success, failure</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1.创建axios的实例</span></span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseURL: <span class="string">'http://123.207.32.32:8000'</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 发送真正的网络请求</span></span><br><span class="line">  instance(config)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(res);</span></span><br><span class="line">      success(res);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(err);</span></span><br><span class="line">      failure(err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Use-4"><a href="#Use-4" class="headerlink" title="Use"></a>Use</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">"./network/request"</span>;</span><br><span class="line"></span><br><span class="line">request(&#123;</span><br><span class="line"> url: <span class="string">'/home/multidata'</span></span><br><span class="line">&#125;, res =&gt; &#123;</span><br><span class="line"> <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;, err =&gt; &#123;</span><br><span class="line"> <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">request(&#123;</span><br><span class="line">	baseConfig: &#123; &#125;,</span><br><span class="line">	success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123; &#125;,</span><br><span class="line">  failure: <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123; &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">request(&#123;</span><br><span class="line">  url: <span class="string">'/home/multidata'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// console.log(err);</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="Ultimate-Use-amp-amp-Interceptors"><a href="#Ultimate-Use-amp-amp-Interceptors" class="headerlink" title="Ultimate Use &amp;&amp; Interceptors"></a>Ultimate Use &amp;&amp; Interceptors</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1.创建axios的实例</span></span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseURL: <span class="string">'http://123.207.32.32:8000'</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.axios的拦截器</span></span><br><span class="line">  <span class="comment">// 2.1.请求拦截的作用</span></span><br><span class="line">  instance.interceptors.request.use(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(config);</span></span><br><span class="line">    <span class="comment">// 1.比如config中的一些信息不符合服务器的要求</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.比如每次发送网络请求时, 都希望在界面中显示一个请求的图标</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3.某些网络请求(比如登录(token)), 必须携带一些特殊的信息</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;, err =&gt; &#123;</span><br><span class="line">    <span class="comment">// console.log(err);</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.2.响应拦截</span></span><br><span class="line">  instance.interceptors.response.use(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  	<span class="comment">// (数据过滤或者其他处理)</span></span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">    <span class="keyword">return</span> res.data</span><br><span class="line">  &#125;, err =&gt; &#123;</span><br><span class="line">  	<span class="comment">// (根据错误码为用户提供合理性展示)</span></span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.发送真正的网络请求</span></span><br><span class="line">  <span class="keyword">return</span> instance(config)  <span class="comment">//	Promise</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="项目实战"><a href="#项目实战" class="headerlink" title="项目实战"></a>项目实战</h1><h2 id="Directory-Structure-1"><a href="#Directory-Structure-1" class="headerlink" title="Directory Structure"></a>Directory Structure</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">HYMall</span><br><span class="line">├── .browserslistrc</span><br><span class="line">├── .editorconfig                            &#x2F;&#x2F; 编辑器配置统一项目</span><br><span class="line">├── .gitignore</span><br><span class="line">├── babel.config.js</span><br><span class="line">├── package-lock.json</span><br><span class="line">├── package.json                             &#x2F;&#x2F; 项目依赖版本管理</span><br><span class="line">├── postcss.config.js</span><br><span class="line">├── public</span><br><span class="line">│   ├── index.html</span><br><span class="line">│   └── logo.png</span><br><span class="line">├── README.md</span><br><span class="line">├── src                                      &#x2F;&#x2F; 源代码文件夹</span><br><span class="line">│   ├── App.vue</span><br><span class="line">│   ├── assets                               &#x2F;&#x2F; 静态资源目录</span><br><span class="line">│   │   ├── css</span><br><span class="line">│   │   │   ├── base.css</span><br><span class="line">│   │   │   └── normalize.css</span><br><span class="line">│   │   └── img</span><br><span class="line">│   │       ├── cart  </span><br><span class="line">│   │       │   └── tick.svg</span><br><span class="line">│   │       ├── common</span><br><span class="line">│   │       │   ├── back.svg</span><br><span class="line">│   │       │   ├── collect.svg</span><br><span class="line">│   │       │   ├── placeholder.png</span><br><span class="line">│   │       │   └── top.png</span><br><span class="line">│   │       ├── detail</span><br><span class="line">│   │       │   └── detail_bottom.png</span><br><span class="line">│   │       ├── home</span><br><span class="line">│   │       │   └── recommend_bg.jpg</span><br><span class="line">│   │       └── tabbar</span><br><span class="line">│   │           ├── cart.svg</span><br><span class="line">│   │           ├── cart_active.svg</span><br><span class="line">│   │           ├── category.svg</span><br><span class="line">│   │           ├── category_active.svg</span><br><span class="line">│   │           ├── home.svg</span><br><span class="line">│   │           ├── home_active.svg</span><br><span class="line">│   │           ├── profile.svg</span><br><span class="line">│   │           └── profile_active.svg</span><br><span class="line">│   ├── common                              &#x2F;&#x2F; 公共文件</span><br><span class="line">│   │   ├── const.js</span><br><span class="line">│   │   ├── mixin.js</span><br><span class="line">│   │   └── utils.js</span><br><span class="line">│   ├── components 													&#x2F;&#x2F; vue组件</span><br><span class="line">│   │   ├── common                          &#x2F;&#x2F; 公共组件</span><br><span class="line">│   │   │   ├── gridView</span><br><span class="line">│   │   │   │   └── GridView.vue</span><br><span class="line">│   │   │   ├── navbar</span><br><span class="line">│   │   │   │   └── NavBar.vue</span><br><span class="line">│   │   │   ├── scroll</span><br><span class="line">│   │   │   │   └── Scroll.vue</span><br><span class="line">│   │   │   ├── swiper</span><br><span class="line">│   │   │   │   ├── index.js</span><br><span class="line">│   │   │   │   ├── Swiper.vue</span><br><span class="line">│   │   │   │   └── SwiperItem.vue</span><br><span class="line">│   │   │   └── tabbar</span><br><span class="line">│   │   │       ├── TabBar.vue</span><br><span class="line">│   │   │       └── TabBarItem.vue</span><br><span class="line">│   │   └── content                          &#x2F;&#x2F; 内容组件</span><br><span class="line">│   │       ├── backTop</span><br><span class="line">│   │       │   └── BackTop.vue</span><br><span class="line">│   │       ├── Icon</span><br><span class="line">│   │       │   ├── Icon.vue</span><br><span class="line">│   │       │   └── svg.vue</span><br><span class="line">│   │       ├── mainTabbar</span><br><span class="line">│   │       │   └── MainTabBar.vue</span><br><span class="line">│   │       └── tabControl</span><br><span class="line">│   │           └── TabControl.vue</span><br><span class="line">│   ├── main.js                              &#x2F;&#x2F; 主JS文件</span><br><span class="line">│   ├── network                              &#x2F;&#x2F; 网络配置(axios)</span><br><span class="line">│   │   ├── axios.js</span><br><span class="line">│   │   ├── category.js</span><br><span class="line">│   │   ├── detail.js</span><br><span class="line">│   │   └── home.js</span><br><span class="line">│   ├── router                               &#x2F;&#x2F; 路由配置</span><br><span class="line">│   │   └── index.js</span><br><span class="line">│   ├── store                                &#x2F;&#x2F; vuex状态管理</span><br><span class="line">│   │   ├── actions.js</span><br><span class="line">│   │   ├── getters.js</span><br><span class="line">│   │   ├── index.js</span><br><span class="line">│   │   └── mutations.js</span><br><span class="line">│   └── views                                &#x2F;&#x2F; 视图</span><br><span class="line">│       ├── cart</span><br><span class="line">│       │   ├── Cart.vue</span><br><span class="line">│       │   └── childComps</span><br><span class="line">│       │       ├── BottomBar.vue</span><br><span class="line">│       │       ├── CartList.vue</span><br><span class="line">│       │       ├── CartListItem.vue</span><br><span class="line">│       │       └── CheckButton.vue</span><br><span class="line">│       ├── category</span><br><span class="line">│       │   ├── Category.vue</span><br><span class="line">│       │   └── childComps</span><br><span class="line">│       │       ├── TabContent.vue</span><br><span class="line">│       │       ├── TabContentCategory.vue</span><br><span class="line">│       │       ├── TabContentDetail.vue</span><br><span class="line">│       │       └── TabMenu.vue</span><br><span class="line">│       ├── detail</span><br><span class="line">│       │   ├── childComps</span><br><span class="line">│       │   │   ├── DetailBaseInfo.vue</span><br><span class="line">│       │   │   ├── DetailBottomBar.vue</span><br><span class="line">│       │   │   ├── DetailCommentInfo.vue</span><br><span class="line">│       │   │   ├── DetailGoodsInfo.vue</span><br><span class="line">│       │   │   ├── DetailNavBar.vue</span><br><span class="line">│       │   │   ├── DetailParamInfo.vue</span><br><span class="line">│       │   │   ├── DetailRecommendInfo.vue</span><br><span class="line">│       │   │   ├── DetailShopInfo.vue</span><br><span class="line">│       │   │   └── DetailSwiper.vue</span><br><span class="line">│       │   └── Detail.vue</span><br><span class="line">│       ├── home</span><br><span class="line">│       │   ├── childComps</span><br><span class="line">│       │   │   ├── FeatureView.vue</span><br><span class="line">│       │   │   ├── GoodsList.vue</span><br><span class="line">│       │   │   ├── GoodsListItem.vue</span><br><span class="line">│       │   │   ├── HomeSwiper.vue</span><br><span class="line">│       │   │   └── RecommendView.vue</span><br><span class="line">│       │   └── Home.vue</span><br><span class="line">│       └── profile</span><br><span class="line">│           ├── childComps</span><br><span class="line">│           │   ├── ListView.vue</span><br><span class="line">│           │   └── UserInfo.vue</span><br><span class="line">│           └── Profile.vue</span><br><span class="line">└── vue.config.js                             &#x2F;&#x2F; 项目配置文件</span><br></pre></td></tr></table></figure><h2 id="Github-Address"><a href="#Github-Address" class="headerlink" title="Github Address"></a>Github Address</h2><p>只完成了 Home 部分功能<br><a href="https://github.com/Liuhongwei3/BliVueDemoTab" target="_blank" rel="noopener">https://github.com/Liuhongwei3/BliVueDemoTab</a></p><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><p><a href="https://github.com/necolas/normalize.css/" target="_blank" rel="noopener">https://github.com/necolas/normalize.css/</a></p><h2 id="Config-1"><a href="#Config-1" class="headerlink" title="Config"></a>Config</h2><blockquote><p>vue.config.js</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="comment">// 	configure webpack</span></span><br><span class="line">	configureWebpack: &#123;</span><br><span class="line">		resolve: &#123;</span><br><span class="line">			extensions: [],</span><br><span class="line">			alias: &#123;</span><br><span class="line">				<span class="comment">//  vue default</span></span><br><span class="line">				<span class="string">'@'</span>: <span class="string">'src'</span>,</span><br><span class="line">				<span class="string">'assets'</span>: <span class="string">'@assets'</span>,</span><br><span class="line">				<span class="string">'components'</span>: <span class="string">'@components'</span>,</span><br><span class="line">				...</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Use</p></blockquote><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"~assets/images/logo.jpg"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">	<span class="keyword">import</span> <span class="string">'assets/css/style.css'</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scopped</span>&gt;</span></span><br><span class="line"><span class="css">	<span class="selector-class">.pic</span> &#123;</span></span><br><span class="line">	 	background: url(~asset/images/bg.jpg)</span><br><span class="line">	&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> imageUrl = <span class="built_in">require</span>(<span class="string">"./img/marker_green.png"</span>);</span><br></pre></td></tr></table></figure><blockquote><p>.editorconfig(项目统一化管理)</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root &#x3D; true</span><br><span class="line"></span><br><span class="line">[*]</span><br><span class="line">charset &#x3D; utf-8</span><br><span class="line">indent_style &#x3D; space</span><br><span class="line">indent_size &#x3D; 2</span><br><span class="line">end_of_line &#x3D; lf</span><br><span class="line">insert_final_newline &#x3D; true</span><br><span class="line">trim_trailing_whitespace &#x3D; true</span><br></pre></td></tr></table></figure><h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1><ul><li><a href="https://liuhongwei3.github.io/2020/02/01/TadmPlayer/">TadmPlayer</a></li><li><a href="https://github.com/Liuhongwei3/vue_shop" target="_blank" rel="noopener">Vue-Shop</a></li></ul></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author:</span> <span class="post-copyright-info"><a href="mailto:undefined">𝓣𝓪𝓭𝓶</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link:</span> <span class="post-copyright-info"><a href="https://liuhongwei3.github.io/2020/01/14/VueStudyNotesAll/">https://liuhongwei3.github.io/2020/01/14/VueStudyNotesAll/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice:</span> <span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/">Vue</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/01/20/mongoDBcommand/"><i class="fa fa-chevron-left"></i> <span>mongoDBcommand</span></a></div><div class="next-post pull-right"><a href="/2020/01/13/addAplayerByHexo/"><span>addAplayerByHexo</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image:url(https://i.loli.net/2020/02/28/2OPSFfaL73QIizV.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2020 &nbsp;<i class="fa fa-heart" aria-hidden="true" id="myheart"></i>&nbsp; <a href="https://liuhongwei3.github.io/" target="_blank">𝓣𝓪𝓭𝓶</a></div><div class="framework-info"><span>Driven -</span> <a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme -</span> <a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="footer_custom_text">Hi,Welcome to my blog,maybe you can find more!</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-eye"></i>本篇已阅读次数：<span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/heart.js?version=1.7.0"></script><script src="/js/typed.js?version=1.7.0"></script><script src="/js/google.js?version=1.7.0"></script><script>/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)&&($("#nav").addClass("is-mobile"),$("footer").addClass("is-mobile"),$("#top-container").addClass("is-mobile"))</script></body></html>