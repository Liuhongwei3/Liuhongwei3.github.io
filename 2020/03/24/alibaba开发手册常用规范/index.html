<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="alibaba开发手册常用规范"><meta name="keywords" content="Java,规范"><meta name="author" content="𝓣𝓪𝓭𝓶"><meta name="copyright" content="𝓣𝓪𝓭𝓶"><title>alibaba开发手册常用规范 | 𝓣𝓪𝓭𝓶's Blog</title><link rel="shortcut icon" href="/my.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.0/css/all.min.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?837ab5c6a751430eeba265f36e622b79";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-156561044-1","auto"),ga("send","pageview")</script><meta name="google-site-verification" content="4sNQ8r3e8C-DeXTBdbDP38MgpMP8Rw5pvHy2z4-z9ZY"><script>var GLOBAL_CONFIG={root:"/",copy:{success:"Copy successfully",error:"Copy error",noSupport:"The browser does not support"}}</script><meta name="generator" content="Hexo 4.2.1"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#命名规范"><span class="toc-number">1.</span> <span class="toc-text">命名规范</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#代码格式"><span class="toc-number">2.</span> <span class="toc-text">代码格式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#OOP规约"><span class="toc-number">3.</span> <span class="toc-text">OOP规约</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#集合处理"><span class="toc-number">4.</span> <span class="toc-text">集合处理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#异常日志"><span class="toc-number">5.</span> <span class="toc-text">异常日志</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#异常处理"><span class="toc-number">5.1.</span> <span class="toc-text">异常处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#日志处理"><span class="toc-number">5.2.</span> <span class="toc-text">日志处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安全规约"><span class="toc-number">5.3.</span> <span class="toc-text">安全规约</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://i.loli.net/2019/11/24/Tj4hPoFKgXJE7xW.jpg"></div><div class="author-info__name text-center">𝓣𝓪𝓭𝓶</div><div class="author-info__description text-center"></div><div class="follow-button"><a href="https://liuhongwei3.github.io">Follow me ≧◇≦</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">31</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">35</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">11</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" href="https://liuhongwei3.github.io">𝓣𝓪𝓭𝓶</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image:url(https://i.loli.net/2020/02/28/2OPSFfaL73QIizV.jpg)"><div id="page-header"> <span class="pull-left"><a id="site-name" href="/">𝓣𝓪𝓭𝓶's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i> <span class="pull-right menus"><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/player">Player</a><a class="site-page" href="/about">About</a></span></div><div id="post-info"><div id="post-title">alibaba开发手册常用规范</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-03-24</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Manual/">Manual</a><div class="post-meta-wordcount"><span>Word count:</span> <span class="word-count">1.6k</span><span class="post-meta__separator">|</span><span>Reading time: 4 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><!DOCTYPE html><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><div id="aplayer"></div><script type="text/javascript" src="/js/aplayer.js"></script><div class="article-container" id="post-content"><h1 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h1><p>代码中的命名均不能以<strong>下划线或美元符号</strong>开始或结束；严禁采用中英文结合的方式来命名，甚至利用中文直接命名，比如：“wangluoqingqiu”，这样严重的破坏了整个代码的一致性；<strong>变量、方法、参数等</strong>名字均采用<code>驼峰（lowerCamelCase）方式</code>命名，同时按照<strong>语义</strong>来命名，让我们能够望文知义，而且<strong>常量</strong>应该使用<code>大写字母</code>，让代码之间具有差异性，提高可读性。</p><p><strong>项目包名</strong>统一采用<strong>小写</strong>，点分隔符之间有且仅有应该<strong>自然语义</strong>的英语单词；避免在子父类或者不同代码块之间的局部变量采用<strong>完全相同</strong>的命名，使可读性降低。</p><p>接口类中的方法和属性<strong>尽量不要添加任何修饰符</strong>，保持代码的简洁性，必要时可以<strong>附上有效的注释</strong>；一般对于接口的实现类的名字应该是<strong>接口名加上<code>Impl</code>后缀名</strong>；而<strong>枚举类</strong>的名字也应该带上<strong><code>Enum</code>后缀名</strong>。</p><p><strong>常量避免任何魔法值（即未经预先定义的常量）直接出现在代码</strong>中；在使用Long类型赋值时，应该使用<code>大写的L</code>，杜绝使用小写使得与数字1出现误解。</p><h1 id="代码格式"><a href="#代码格式" class="headerlink" title="代码格式"></a>代码格式</h1><p>如果<strong>大括号里面为空</strong>则可以简写为<code>{}</code>即可，不需要添加空格或者换行；如果为<strong>非空代码块</strong>，<strong>左括号后才换行</strong>，<strong>右大括号前换行</strong>；左右小括号与字符间不要有空格，而if/for/while等与括号间需要加空格。</p><p>对于代码缩进惯例都是<strong>4个空格</strong>，注释的双斜线与内容间通常有且只有一个空格；单行字符也限制在<strong>120</strong>个以内，有需要则换行，通常<strong>第二行</strong>相对于<strong>第一行缩进4个</strong>，后面的则与<strong>第二行对齐</strong>即可。</p><p>对于方法的定义，一般单个方法的总行数不超过<strong>80</strong>行，若有需要可将中间代码块封装个单个方法进行调用；不同逻辑、不同语义、不同业务的代码间需要<strong>插入一行空格进行分隔</strong>来提升代码的可读性。</p><h1 id="OOP规约"><a href="#OOP规约" class="headerlink" title="OOP规约"></a>OOP规约</h1><p>避免通过一个类的<strong>对象引用访问此类的静态变量或静态方法</strong>，因为这样会增加编译器解析成本，而是采用类名来直接访问即可；所有的<strong>覆写方法</strong>都要加上<code>@Override</code>注解。</p><p>不能使用<strong>过时的类或方法</strong>，避免一些不可预测的bug；所有整型包装类对象间值得比较全部使用<code>equals</code>方法进行比较；而浮点型之间的等值判断，基本数据类型不能使用==比较，包装类型的不能使用equals来判断，因为浮点数在计算机中是采用“<code>尾数+阶码</code>的编码方式”，类似于科学计数法的 “<code>有效数字+指数</code>”。</p><p><img src="https://i.loli.net/2020/03/24/17k3plf8woxAFay.png" alt="    "></p><p>为了防止精度损失，禁止使用构造方法BigDecimal(double)的方式把double值转换为BigDecimal对象；所有的POJO类属性、RPC方法的返回值和参数必须使用包装数据类型，而所有的局部变量使用基本数据类型；POJO类必须写toString方法，禁止在POJO类同时存在对应的属性xxx的isXxx()和getXxx()方法。</p><p>类构造方法禁止存在任何业务逻辑，如需放在Init方法中；一个类如果有多个构造方法或者多个同名方法，它们应该按顺序放置在一起便于阅读；且类中的方法定义次序为：公有方法或保护方法&gt;私有方法&gt;getter/setter方法；在getter/setter方法中也不要加入任何业务逻辑，减少问题排查的难度。</p><h1 id="集合处理"><a href="#集合处理" class="headerlink" title="集合处理"></a>集合处理</h1><p>使用<code>Map</code>的方法<code>keySet()/values()/entrySet()</code>返回集合对象时，不可以对其进行<strong>添加元素</strong>操作；<code>Collections</code>类返回的对象（比如<code>empList/singletonList</code>）等都是<code>immutablelist</code>，不可对其进行<strong>添加或者删除元素</strong>的操作；使用<code>Collections</code>接口<strong>任何实现类</strong>的<code>addAll()</code>方法时，都要对<strong>输入的集合参数</strong>进行<code>NPE</code>判断。<br>使用<strong>集合转数组</strong>的方法，必须使用集合的<code>toArray(T[] array)</code>,传入的是<strong>类型完全一致、长度为0的空数组</strong>。使用<code>Arrays.asList()</code>把<strong>数组转集合</strong>时，<strong>不能使用其修改集合相关的方法</strong>，因为它的<code>add/remove/clear</code>方法会抛出异常。</p><p><img src="https://i.loli.net/2020/03/24/R3IN6sSmDBCghPb.png" alt="2.png"></p><h1 id="异常日志"><a href="#异常日志" class="headerlink" title="异常日志"></a>异常日志</h1><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>异常不要用来做流程控制、条件控制等，且<strong>捕获异常是为了处理它</strong>，不要捕获了却任何事不做将其抛弃，必须有对应的处理者接受并处理抛出的异常；catch捕获时要<strong>分清各种异常类型的错误</strong>，禁止出现异常混淆处理。</p><p>如果异常时需要<strong>回滚事务</strong>，一定要注意<strong>手动回滚事务</strong>，保证数据一致性；finally代码块必须<strong>对资源对象、流对象进行关闭且不能使用return语句</strong>；在调用RPC、二方包等相关方法时，捕获异常必须使用<code>Throwable</code>类来进行拦截。</p><h2 id="日志处理"><a href="#日志处理" class="headerlink" title="日志处理"></a>日志处理</h2><p>使用门面模式的日志框架（SLF4J的API），有利于维护和各个类的日志处理方式统一；对于trace/debug/info级别的日志输出，必须进行<strong>日志级别的开关判断</strong>；避免<strong>重复打印日志</strong>，浪费空间；同时生产环境禁止输出debug日志，有选择的输出Info日志，更要<strong>即时清理观察日志</strong>，防止撑爆服务器。</p><h2 id="安全规约"><a href="#安全规约" class="headerlink" title="安全规约"></a>安全规约</h2><p>隶属于用户个人的页面或者功能必须进行<strong>权限控制校验</strong>，且用户敏感数据禁止直接展示，必须进行<strong>数据脱敏</strong>；用户请求的任何参数必须做<strong>有效性、安全性验证</strong>，避免出现<code>SQL注入</code>、<code>CSRF</code>、<code>XSS</code>等危险行为。</p><blockquote><p>其实在开发手册中还提到了有关数据库等的相关规范，如若感兴趣可搜索关注”<code>Tadm知识站</code>“回复”阿里巴巴开发手册”即可得完整开发手册PDF，当然你也可以到<code>阿里巴巴官方Github</code>中下载！</p></blockquote></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author:</span> <span class="post-copyright-info"><a href="mailto:undefined">𝓣𝓪𝓭𝓶</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link:</span> <span class="post-copyright-info"><a href="https://liuhongwei3.github.io/2020/03/24/alibaba%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C%E5%B8%B8%E7%94%A8%E8%A7%84%E8%8C%83/">https://liuhongwei3.github.io/2020/03/24/alibaba%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C%E5%B8%B8%E7%94%A8%E8%A7%84%E8%8C%83/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice:</span> <span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java</a><a class="post-meta__tags" href="/tags/%E8%A7%84%E8%8C%83/">规范</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/03/27/CSS3More/"><i class="fa fa-chevron-left"></i> <span>CSS3More</span></a></div><div class="next-post pull-right"><a href="/2020/03/21/JavaScriptNotes/"><span>JavaScriptNotes</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image:url(https://i.loli.net/2020/02/28/2OPSFfaL73QIizV.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2020 &nbsp;<i class="fa fa-heart" aria-hidden="true" id="myheart"></i>&nbsp; <a href="https://liuhongwei3.github.io/" target="_blank">𝓣𝓪𝓭𝓶</a></div><div class="framework-info"><span>Driven -</span> <a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme -</span> <a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="footer_custom_text">Hi,Welcome to my blog,maybe you can find more!</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-eye"></i>本篇已阅读次数：<span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/heart.js?version=1.7.0"></script><script src="/js/typed.js?version=1.7.0"></script><script src="/js/google.js?version=1.7.0"></script><script>/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)&&($("#nav").addClass("is-mobile"),$("footer").addClass("is-mobile"),$("#top-container").addClass("is-mobile"))</script></body></html>